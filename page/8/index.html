<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Hanks&#39; Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="android,web,node,python">
<meta property="og:type" content="website">
<meta property="og:title" content="Hanks' Blog">
<meta property="og:url" content="http://hanks.pub/page/8/index.html">
<meta property="og:site_name" content="Hanks' Blog">
<meta property="og:description" content="android,web,node,python">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hanks' Blog">
<meta name="twitter:description" content="android,web,node,python">
  
  
    <link rel="icon" href="/images/favicon.png">
  
  <!-- <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600' rel='stylesheet' type='text/css'> -->
  <!-- <link href="//fonts.googleapis.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <!-- <link href="//fonts.useso.com/css?family=Source+Code+Pro:400,700" rel="stylesheet" type="text/css"> -->
  <!-- <link href='//fonts.useso.com/css?family=Open+Sans:300,600' rel='stylesheet' type='text/css'> -->
  <link rel="stylesheet" href="/css/style.css">
  

</head>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <a href="/" class="logo"></a>
    <nav id="main-nav">
      <a id="main-nav-toggle" class="nav-icon"></a>
      
        <a class="main-nav-link" href="/archives">归档</a>
      
        <a class="main-nav-link" href="/daily">日报</a>
      
        <a class="main-nav-link" href="/eye-video">开眼</a>
      
        <a class="main-nav-link" href="/joke">joke</a>
      
        <a class="main-nav-link" href="/picture-fight">斗图</a>
      
        <a class="main-nav-link" href="/atom.xml">RSS</a>
      
    </nav>
  </div>
</header>
      <nav id="mobile-nav" class="off">
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="/daily" class="mobile-nav-link">日报</a>
  
    <a href="/eye-video" class="mobile-nav-link">开眼</a>
  
    <a href="/joke" class="mobile-nav-link">joke</a>
  
    <a href="/picture-fight" class="mobile-nav-link">斗图</a>
  
    <a href="/atom.xml" class="mobile-nav-link">RSS</a>
  
</nav>
      <div class="outer">
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <div class="info">
     <div class="content">
       <div>
         <a href="https://github.com/hanks-zyh"><img class="avatar" src="https://avatars2.githubusercontent.com/u/6268322?v=3&s=460" alt="" /></a>
       </div>
       <div class="name">
         <h2 >Hanks</h2>
       </div>
       <p>‭100100011101‬</p>
       <div class="account">
         <div class="account-item">
           <a href="http://weibo.com/u/2359002991"><img src="http://ww1.sinaimg.cn/large/8c9b876fjw1f3ik9y4q7hj205k05kdfx.jpg" style="width:40px;height:40px;border-radius: 50%;"></a>
         </div>
         <div class="account-item">
              <a href="http://www.zhihu.com/people/yuhan-zhang-36"><img src="http://ww2.sinaimg.cn/large/8c9b876fjw1f3ik7sv63wj205k05k3yg.jpg" style="width:40px;height:40px;border-radius: 50%;"></a>
         </div>
         <div class="account-item">
           <a href="https://github.com/hanks-zyh"> <img src="http://ww1.sinaimg.cn/large/8c9b876fly1fe196fbtiqj205k05ka9u.jpg" style="width:40px;height:40px;border-radius: 50%;"></a>
         </div>
       </div>
     </div>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">最新发布</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/10/11/android-night-mode/">Android 夜间模式</a>
          </li>
        
          <li>
            <a href="/2017/09/28/lua-into-android/">Lua 嵌入 Android 原理</a>
          </li>
        
          <li>
            <a href="/2017/04/28/lua-in-android/">探究 lua 在 Android 中的应用</a>
          </li>
        
          <li>
            <a href="/2017/03/26/node-image-recognition/">Node 识别图片中的文字</a>
          </li>
        
          <li>
            <a href="/2017/03/22/proxy-test/">请求代理</a>
          </li>
        
          <li>
            <a href="/2017/02/16/android-customview-inputmethod/">Android 自定义 view 连接输入法</a>
          </li>
        
          <li>
            <a href="/2017/01/10/android-lua/">Android 与 Lua</a>
          </li>
        
          <li>
            <a href="/2017/01/10/android-markdown-render/">Android 下 Markdown 渲染</a>
          </li>
        
          <li>
            <a href="/2017/01/09/android-webview-font/">Android 中 webview 自定义字体</a>
          </li>
        
          <li>
            <a href="/2016/09/25/slack-bot/">slack bot</a>
          </li>
        
          <li>
            <a href="/2016/09/19/webapp/">让网页更适配移动设备</a>
          </li>
        
          <li>
            <a href="/2016/09/05/weex-2333/">体验 weex —— 写一个表情包应用</a>
          </li>
        
          <li>
            <a href="/2016/08/31/nestedscrollchild/">WebView 实现 NestedScrollingChild</a>
          </li>
        
          <li>
            <a href="/2016/08/29/nestedchildparent/">NestedScrollingParent 实现复杂交互效果</a>
          </li>
        
          <li>
            <a href="/2016/08/04/telegram-bot/">写一个福利 Telegram 机器人</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Activity/" style="font-size: 10px;">Activity</a> <a href="/tags/Android/" style="font-size: 20px;">Android</a> <a href="/tags/Atom/" style="font-size: 10px;">Atom</a> <a href="/tags/Dagger2/" style="font-size: 10px;">Dagger2</a> <a href="/tags/EditText/" style="font-size: 10px;">EditText</a> <a href="/tags/Express/" style="font-size: 11.67px;">Express</a> <a href="/tags/Fragment/" style="font-size: 10px;">Fragment</a> <a href="/tags/Framework/" style="font-size: 11.67px;">Framework</a> <a href="/tags/HTML-CSS/" style="font-size: 10px;">HTML/CSS</a> <a href="/tags/Jade/" style="font-size: 10px;">Jade</a> <a href="/tags/Java/" style="font-size: 13.33px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 10px;">JavaScript</a> <a href="/tags/Kotlin/" style="font-size: 15px;">Kotlin</a> <a href="/tags/LAMP/" style="font-size: 10px;">LAMP</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/Lua/" style="font-size: 13.33px;">Lua</a> <a href="/tags/Mac/" style="font-size: 10px;">Mac</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MongoDB/" style="font-size: 10px;">MongoDB</a> <a href="/tags/NestedScrolling/" style="font-size: 13.33px;">NestedScrolling</a> <a href="/tags/Node-js/" style="font-size: 13.33px;">Node.js</a> <a href="/tags/OS-X/" style="font-size: 10px;">OS X</a> <a href="/tags/Promise/" style="font-size: 10px;">Promise</a> <a href="/tags/Python/" style="font-size: 11.67px;">Python</a> <a href="/tags/React-Native/" style="font-size: 18.33px;">React-Native</a> <a href="/tags/Refactoring/" style="font-size: 10px;">Refactoring</a> <a href="/tags/Rx/" style="font-size: 10px;">Rx</a> <a href="/tags/RxJava/" style="font-size: 13.33px;">RxJava</a> <a href="/tags/Rxandroid/" style="font-size: 10px;">Rxandroid</a> <a href="/tags/Rxjava/" style="font-size: 11.67px;">Rxjava</a> <a href="/tags/SQLite/" style="font-size: 10px;">SQLite</a> <a href="/tags/Scrapy/" style="font-size: 11.67px;">Scrapy</a> <a href="/tags/Swift/" style="font-size: 10px;">Swift</a> <a href="/tags/SwipeRefreshLayout/" style="font-size: 10px;">SwipeRefreshLayout</a> <a href="/tags/Telegram/" style="font-size: 10px;">Telegram</a> <a href="/tags/TextView/" style="font-size: 10px;">TextView</a> <a href="/tags/Ubuntu/" style="font-size: 16.67px;">Ubuntu</a> <a href="/tags/VPS/" style="font-size: 10px;">VPS</a> <a href="/tags/View/" style="font-size: 10px;">View</a> <a href="/tags/Vue-js/" style="font-size: 10px;">Vue.js</a> <a href="/tags/Web/" style="font-size: 10px;">Web</a> <a href="/tags/WebView/" style="font-size: 11.67px;">WebView</a> <a href="/tags/bot/" style="font-size: 10px;">bot</a> <a href="/tags/crontab/" style="font-size: 10px;">crontab</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/interpolator/" style="font-size: 10px;">interpolator</a> <a href="/tags/leancloud/" style="font-size: 10px;">leancloud</a> <a href="/tags/mac-os/" style="font-size: 10px;">mac os</a> <a href="/tags/slack/" style="font-size: 10px;">slack</a> <a href="/tags/virtualBox/" style="font-size: 10px;">virtualBox</a> <a href="/tags/weex/" style="font-size: 10px;">weex</a> <a href="/tags/代理/" style="font-size: 10px;">代理</a> <a href="/tags/依赖注入/" style="font-size: 10px;">依赖注入</a> <a href="/tags/前端/" style="font-size: 10px;">前端</a> <a href="/tags/学习/" style="font-size: 10px;">学习</a> <a href="/tags/必备知识/" style="font-size: 10px;">必备知识</a> <a href="/tags/性能优化/" style="font-size: 10px;">性能优化</a> <a href="/tags/总结/" style="font-size: 10px;">总结</a> <a href="/tags/热修复/" style="font-size: 11.67px;">热修复</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/自动化/" style="font-size: 10px;">自动化</a> <a href="/tags/设计/" style="font-size: 10px;">设计</a>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="https://github.com/hanks-zyh">hanks-zyh</a>
          </li>
        
          <li>
            <a href="http://kiya.space">Kiya‘s space</a>
          </li>
        
          <li>
            <a href="http://rocko.xyz/">Rocko&#39;s blog</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap mdl-shadow--2dp">
    <div class="wx">
      <h3 class="widget-title">微信公众号</h3>
      <img src='http://ww1.sinaimg.cn/large/8c9b876fly1fe0nnlvokpj20by0bywfi.jpg' height="100%" width="100%" >
      <p>搜索公众号: CodeProvider</p>
    </div>
  </div>


  
</aside>
        
        <section id="main" class="mdl-shadow--2dp">
  
    <article id="post-关于include标签复用属性" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/17/关于include标签复用属性/">关于include标签复用属性</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
重写所有layout参数即可(任何&nbsp; 以“android：layout_”为前缀的属性)。

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-高仿微信下拉出现小眼睛动画" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/10/高仿微信下拉出现小眼睛动画/">高仿微信下拉出现小眼睛动画</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p>效果图：</p>
<p><img src="http://img.blog.csdn.net/20150110183827338?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHB1X3p5aA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""><br>
</p>
<p><br>
</p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">原理：</span></p>
<p><span style="font-size:18px">监听手指向下滑动，对小&#30524;睛的bitmap进行重新绘制，最简单的方法就是直接在原来的&#30524;睛基础上再画一个圆环，圆环环的宽度由大变小，小&#30524;睛就慢慢出来了</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">布局文件：</span></p>
<p><span style="font-size:18px"><img src="" alt=""><br>
</span></p>
<p><br>
</p>
<p><br>
</p>
<p>activity_main.layout</p>
<p></p>
<pre code_snippet_id="576739" snippet_file_name="blog_20150110_1_8924647" name="code" class="html">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:orientation=&quot;vertical&quot; &gt;

    &lt;RelativeLayout
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;48dp&quot;
        android:background=&quot;#22292C&quot; &gt;

        &lt;FrameLayout
            android:layout_width=&quot;wrap_content&quot;
            android:layout_height=&quot;48dp&quot;
            android:layout_alignParentLeft=&quot;true&quot;
            android:layout_centerVertical=&quot;true&quot;
            android:layout_marginLeft=&quot;8dp&quot; &gt;

            &lt;TextView
                android:id=&quot;@+id/tv&quot;
                android:layout_width=&quot;wrap_content&quot;
                android:layout_height=&quot;wrap_content&quot;
                android:layout_gravity=&quot;center_vertical&quot;
                android:text=&quot;微信&quot;
                android:textColor=&quot;#FFFFFF&quot;
                android:textSize=&quot;16sp&quot; /&gt;

            &lt;Button
                android:id=&quot;@+id/bt_del&quot;
                android:layout_width=&quot;32dp&quot;
                android:layout_height=&quot;32dp&quot;
                android:layout_gravity=&quot;center_vertical&quot;
                android:alpha=&quot;0&quot;
                android:background=&quot;@drawable/a8u&quot; /&gt;
        &lt;/FrameLayout&gt;

        &lt;Button
            android:id=&quot;@+id/bt_add&quot;
            android:layout_width=&quot;32dp&quot;
            android:layout_height=&quot;32dp&quot;
            android:layout_alignParentRight=&quot;true&quot;
            android:layout_centerVertical=&quot;true&quot;
            android:layout_margin=&quot;8dp&quot;
            android:background=&quot;@drawable/a8g&quot; /&gt;

        &lt;Button
            android:id=&quot;@+id/bt_search&quot;
            android:layout_width=&quot;32dp&quot;
            android:layout_height=&quot;32dp&quot;
            android:layout_centerVertical=&quot;true&quot;
            android:layout_margin=&quot;8dp&quot;
            android:layout_toLeftOf=&quot;@+id/bt_add&quot;
            android:background=&quot;@drawable/a8w&quot; /&gt;
    &lt;/RelativeLayout&gt;

    &lt;FrameLayout
        android:layout_width=&quot;match_parent&quot;
        android:layout_height=&quot;match_parent&quot; &gt;

        &lt;include layout=&quot;@layout/layout_vedio&quot; /&gt;

        &lt;include layout=&quot;@layout/layout_chat&quot; /&gt;
    &lt;/FrameLayout&gt;

&lt;/LinearLayout&gt;</pre><span style="font-size:18px"><br>
代码核心逻辑，对上层界面的滑动监听</span>
<p></p>
<p><span style="font-size:18px"></span></p>
<pre code_snippet_id="576739" snippet_file_name="blog_20150110_2_5907558" name="code" class="java">	private boolean isMoving = false;

	class MyTouchEvent implements OnTouchListener {

		@Override
		public boolean onTouch(View v, MotionEvent event) {

			if (isMoving)
				return true;
			final int[] location = new int[2];
			mEye.getLocationOnScreen(location);
			int bound = (int) (location[1] + mEye.getHeight());

			switch (event.getAction()) {
			case MotionEvent.ACTION_DOWN:
				downY = (int) event.getRawY();
				break;
			case MotionEvent.ACTION_MOVE:
				int dy = (int) event.getRawY() - downY;
				if (dy &lt; 0)
					break;
				Log.i(&quot;ACTION_MOVE&quot;, &quot;move&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + dy);
				ViewHelper.setTranslationY(mRl2, dy * factory);
				mEye.setImageBitmap(getCutEye(dy));
				break;
			case MotionEvent.ACTION_UP:
				dy = (int) event.getRawY() - downY;
				Log.i(&quot;ACTION_MOVE&quot;, &quot;bound&quot; + bound + &quot;,up&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + event.getRawY() + &quot;  &quot;
						+ screenHeight);
				if (dy &gt; bound) {
					showVedioView(event);
				} else {
					showChatView(event);
				}
				break;
			}
			return true;
		}
	}</pre>
<p></p>
<p><span style="font-size:18px"><br>
</span></p>
裁剪小&#30524;睛：
<p><span style="font-size:18px"></span></p>
<pre code_snippet_id="576739" snippet_file_name="blog_20150110_3_2550646" name="code" class="java">public Bitmap getCutEye(int dy) {
		Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.a_a);
		Bitmap bitmap = Bitmap.createBitmap(bm.getWidth(), bm.getHeight(), Config.RGB_565);
		if (dy &gt; mEye.getHeight()*1.5f) {
			Canvas canvas = new Canvas(bitmap);
			Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
			paint.setColor(Color.BLACK);
			paint.setStyle(Paint.Style.STROKE); // 绘制空心圆
			canvas.drawBitmap(bm, 0, 0, paint);

			Log.i(&quot;&quot;, &quot;bmH:&quot; + bm.getHeight() + &quot;,dy:&quot; + dy);
			paint.setStrokeWidth(bm.getHeight()*1.5f - dy * 0.5f);
			RectF oval = new RectF(0, 0, bm.getWidth(), bm.getHeight());
			canvas.drawArc(oval, 0, 360, false, paint);
		}
		return bitmap;
	}</pre><br>
<br>
布局的动画：
<p></p>
<p><span style="font-size:18px"></span></p>
<pre code_snippet_id="576739" snippet_file_name="blog_20150110_4_2291416" name="code" class="java">public void showChatView(MotionEvent event) {
		isMoving = true;
		final int oldY = (int) mRl2.getY();
		ValueAnimator va = ValueAnimator.ofFloat(0, time);
		va.setDuration((long) time);
		va.start();
		va.addUpdateListener(new AnimatorUpdateListener() {
			@Override
			public void onAnimationUpdate(ValueAnimator arg0) {
				float value = (float) arg0.getAnimatedValue() / time;
				Log.i(&quot;&quot;, &quot;Value:&quot; + value);
				mRl2.setY(oldY * (1 - value));
				if (value &gt;= 1)
					isMoving = false;
			}
		});
	}

	public void showVedioView(MotionEvent event) {
		isMoving = true;

		final int[] location = new int[2];
		mRl2.getLocationOnScreen(location);

		final int oldY = (int) mRl2.getY();
		ValueAnimator va = ValueAnimator.ofFloat(0, time);
		va.setDuration((long) time);
		va.start();
		va.addUpdateListener(new AnimatorUpdateListener() {
			@Override
			public void onAnimationUpdate(ValueAnimator arg0) {
				float value = (float) arg0.getAnimatedValue() / time;
				Log.i(&quot;&quot;, &quot;Value:&quot; + value);
				mRl2.setY(oldY + value * (screenHeight - location[1]));
				mEye.setScaleX(value + 1);
				mEye.setScaleY(value + 1);
				mEye.setY(value * 200);
				mDel.setAlpha(value);
				mTv.setAlpha(1 - value);
				mAdd.setAlpha(1 - value);
				mSearch.setAlpha(1 - value);
				if (value &gt;= 1) {
					mDel.setEnabled(true);
				}
			}
		});
	}</pre><br>
<br>
<p></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">完整的代码：</span></p>
<p><span style="font-size:18px"></span></p>
<pre code_snippet_id="576739" snippet_file_name="blog_20150110_5_3078962" name="code" class="java">package com.zyh.pull2change;

import android.app.Activity;
import android.graphics.Bitmap;
import android.graphics.Bitmap.Config;
import android.graphics.BitmapFactory;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Paint;
import android.graphics.RectF;
import android.os.Bundle;
import android.util.DisplayMetrics;
import android.util.Log;
import android.view.MotionEvent;
import android.view.View;
import android.view.View.OnClickListener;
import android.view.View.OnTouchListener;
import android.widget.Button;
import android.widget.ImageView;
import android.widget.RelativeLayout;
import android.widget.TextView;

import com.nineoldandroids.animation.ValueAnimator;
import com.nineoldandroids.animation.ValueAnimator.AnimatorUpdateListener;
import com.nineoldandroids.view.ViewHelper;

public class MainActivity extends Activity {

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		bindViews();

		DisplayMetrics metrics = new DisplayMetrics();
		getWindowManager().getDefaultDisplay().getMetrics(metrics);
		screenHeight = metrics.heightPixels;

		mDel.setOnClickListener(new OnClickListener() {
			@Override
			public void onClick(View v) {
				ValueAnimator va = ValueAnimator.ofFloat(0, time);
				va.setDuration((long) time);
				va.start();
				final float sc = mRl2.getScaleX();
				final float oldY = mEye.getY();
				va.addUpdateListener(new AnimatorUpdateListener() {
					@Override
					public void onAnimationUpdate(ValueAnimator arg0) {
						float value = (float) arg0.getAnimatedValue() / time;
						Log.i(&quot;&quot;, &quot;Value:&quot; + value);
						mRl2.setY((1 - value) * screenHeight);
						mDel.setAlpha(1 - value);
						mTv.setAlpha(value);
						mAdd.setAlpha(value);
						mSearch.setAlpha(value);
						mEye.setScaleX(sc * (1 - value) + 1);
						mEye.setScaleY(sc * (1 - value) + 1);
						mEye.setY(oldY * (1 - value));
						if (value &gt;= 1) {
							isMoving = false;
							mDel.setEnabled(false);
						}
					}
				});
			}
		});
		mRl2.setOnTouchListener(new MyTouchEvent());
	}

	private boolean isMoving = false;

	class MyTouchEvent implements OnTouchListener {

		@Override
		public boolean onTouch(View v, MotionEvent event) {

			if (isMoving)
				return true;
			final int[] location = new int[2];
			mEye.getLocationOnScreen(location);
			int bound = (int) (location[1] + mEye.getHeight());

			switch (event.getAction()) {
			case MotionEvent.ACTION_DOWN:
				downY = (int) event.getRawY();
				break;
			case MotionEvent.ACTION_MOVE:
				int dy = (int) event.getRawY() - downY;
				if (dy &lt; 0)
					break;
				Log.i(&quot;ACTION_MOVE&quot;, &quot;move&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + dy);
				ViewHelper.setTranslationY(mRl2, dy * factory);
				mEye.setImageBitmap(getCutEye(dy));
				break;
			case MotionEvent.ACTION_UP:
				dy = (int) event.getRawY() - downY;
				Log.i(&quot;ACTION_MOVE&quot;, &quot;bound&quot; + bound + &quot;,up&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot; + event.getRawY() + &quot;  &quot;
						+ screenHeight);
				if (dy &gt; bound) {
					showVedioView(event);
				} else {
					showChatView(event);
				}
				break;
			}
			return true;
		}
	}

	private float factory = 0.6f;
	private int screenHeight;
	private int downY;
	private RelativeLayout mRl2;
	private ImageView mEye;
	private float time = 500;
	private TextView mTv;
	private Button mDel;
	private Button mSearch;
	private Button mAdd;

	private void bindViews() {
		mRl2 = (RelativeLayout) findViewById(R.id.rl2);
		mEye = (ImageView) findViewById(R.id.iv_eye);
		mDel = (Button) findViewById(R.id.bt_del);
		mSearch = (Button) findViewById(R.id.bt_search);
		mAdd = (Button) findViewById(R.id.bt_add);
		mTv = (TextView) findViewById(R.id.tv);
	}

	public Bitmap getCutEye(int dy) {
		Bitmap bm = BitmapFactory.decodeResource(getResources(), R.drawable.a_a);
		Bitmap bitmap = Bitmap.createBitmap(bm.getWidth(), bm.getHeight(), Config.RGB_565);
		if (dy &gt; mEye.getHeight()*1.5f) {
			Canvas canvas = new Canvas(bitmap);
			Paint paint = new Paint(Paint.ANTI_ALIAS_FLAG);
			paint.setColor(Color.BLACK);
			paint.setStyle(Paint.Style.STROKE); // 绘制空心圆
			canvas.drawBitmap(bm, 0, 0, paint);

			Log.i(&quot;&quot;, &quot;bmH:&quot; + bm.getHeight() + &quot;,dy:&quot; + dy);
			paint.setStrokeWidth(bm.getHeight()*1.5f - dy * 0.5f);
			RectF oval = new RectF(0, 0, bm.getWidth(), bm.getHeight());
			canvas.drawArc(oval, 0, 360, false, paint);
		}
		return bitmap;
	}

	public void showChatView(MotionEvent event) {
		isMoving = true;
		final int oldY = (int) mRl2.getY();
		ValueAnimator va = ValueAnimator.ofFloat(0, time);
		va.setDuration((long) time);
		va.start();
		va.addUpdateListener(new AnimatorUpdateListener() {
			@Override
			public void onAnimationUpdate(ValueAnimator arg0) {
				float value = (float) arg0.getAnimatedValue() / time;
				Log.i(&quot;&quot;, &quot;Value:&quot; + value);
				mRl2.setY(oldY * (1 - value));
				if (value &gt;= 1)
					isMoving = false;
			}
		});
	}

	public void showVedioView(MotionEvent event) {
		isMoving = true;

		final int[] location = new int[2];
		mRl2.getLocationOnScreen(location);

		final int oldY = (int) mRl2.getY();
		ValueAnimator va = ValueAnimator.ofFloat(0, time);
		va.setDuration((long) time);
		va.start();
		va.addUpdateListener(new AnimatorUpdateListener() {
			@Override
			public void onAnimationUpdate(ValueAnimator arg0) {
				float value = (float) arg0.getAnimatedValue() / time;
				Log.i(&quot;&quot;, &quot;Value:&quot; + value);
				mRl2.setY(oldY + value * (screenHeight - location[1]));
				mEye.setScaleX(value + 1);
				mEye.setScaleY(value + 1);
				mEye.setY(value * 200);
				mDel.setAlpha(value);
				mTv.setAlpha(1 - value);
				mAdd.setAlpha(1 - value);
				mSearch.setAlpha(1 - value);
				if (value &gt;= 1) {
					mDel.setEnabled(true);
				}
			}
		});
	}

}
</pre><br>
<br>
<p></p>
<p><br>
</p>
<p><br>
</p>
<p>源码：<a target="_blank" href="https://github.com/18236887539/WeixinEye">&nbsp;https://github.com/18236887539/WeixinEye</a></p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-深圳day" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/10/深圳day/">深圳day</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp;5号晚上火车，6号下午到深圳，开始了深圳求职记，首先说明，大四学生，寻找实习，同来的还有3个同学，我们2个Android，一个Java，一个移动安全（美女，我女朋友<img alt="偷笑" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/titter.gif">）</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; 到深圳下了火车，我们不知道该去哪个地方去，看地图上有一个科技园，在南山区附件，然后决定到那边找房子，但是打听了一下，南山区房子最贵，瞬间不知道该去哪里了，火车站讨论了了1个小时，最后决定去了安保区，乘地铁，到站傻了，看着不想是有便宜点房子的地方，于是决定去网吧（为什么去网吧？因为深圳网速太慢了，地图都加载不出来，可能是外地卡的原因）上58同城搜一下房子，于是拖着行李到网吧（离地铁站有点远，要累死<img alt="哭" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/cry.gif">），看了两个差不多的房子，打电话问房子，约定晚上21点（当时已经19点了）到大新区看房子
 ，我们也没吃晚饭直接过去了，</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp;在大新地铁站呆了1个多小时，去看房子，租房子的是一个外地求职的，现在转租，很偏僻的一条小过道，街里面很脏，房子1800元、押一付一、至少6个月、客厅太大，卧室太小（4个人合租），没谈成，也怕被骗</span></p>
<p><span style="font-size:18px"><span style="white-space:pre"></span>晚上23点了，我们又回到那条小过道，竟然还有宾馆，超级旧的那种但是便宜点40一晚，没办法开了2个房间，晚上一觉到天亮，很累很累<img alt="睡觉" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/sleep.gif"></span></p>
<p><span style="font-size:18px">&nbsp;<span style="white-space:pre"> </span>第二天，陪女友去面试（竟然是我们几个最先去面试的<img alt="抓狂" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/crazy.gif">），离住的地方有点远，到了大概9:30 （通知的10:00） ，一个小公司，办公地点在一座大厦的一层，每层都有好几个小公司，面试了大概30分钟，过了，但说是工资1000，这在深圳还不够吃饭的，果断不去<img alt="发火" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/angry.gif"></span></p>
<p><span style="font-size:18px"><span style="white-space:pre"></span>回去后找个网吧投了简历，回到住的宾馆，继续找房子，饿的不行了，买了一&#31548;小&#31548;包和女友吃了（到深圳的第一顿饭） ，这时候已经中午了，感觉大新社区那一块停旧的，于是决定在这找房子，直接开始打小广告电话，果真是中介，找了房子，看了一个比较便宜的，但是房子没有光线，需要一直开着灯（传说中的小黑屋啊<img alt="委屈" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/wronged.gif">），谈妥了，交了押金先住了一晚</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; 过了一天也就是7号，漫长的一天，等着简历通知，拉勾网投的，感觉太慢了，只有2个被查看，好痛苦的一天.....租房子的还一直让给他打钱</span></p>
<p><span style="font-size:18px"><span style="white-space:pre"></span>8号，继续等着简历，3个被查看，2个被拒绝，工作经验不够（还没毕业哪里填工作经验），伤心欲绝，到论坛上发帖子求安慰，没毕业的我们就只能是造假学历，假经验才能找到合适工作么？论坛上瞬间好多人给安慰，还有给提供求职技巧，求职信息的，真心感谢啊（我求安慰的时候顺便贴了几个自己做的项目的链接）。</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; 凌晨接到一个offer通知，不错的公司，和老总聊了一晚上，大概给了一个工作，到凌晨5点，睡了2个小时，起床又接到一个面试的，在附近，过去面了一下，拉勾网上的简历也开始有回馈了(前面两个是通过论坛)，通知面试的...面试的....</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><span style="white-space:pre"></span>总之明天就会更好更好，坚持住</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp;</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><span style="white-space:pre"></span></span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><span style="font-size:18px"><br>
</span></p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-2015新的开始" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/04/2015新的开始/">2015新的开始</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><span style="font-size:18px">&nbsp; &nbsp; &nbsp; &nbsp; 2015偷偷的来了，不留一点情面，感觉自己要脱离青春这个年代了，到了要找工作的年龄，</span></p>
<p><span style="font-size:18px">其实心里还是满期待，新的一年，继续向更高级的方向学习，做个约定吧，</span></p>
<p><span style="font-size:18px">0.首先，找到一个好的工作，让女朋友不跟着我受苦</span></p>
<p><span style="font-size:18px">1.每周至少一篇技术博客，不能随便写写那种</span></p>
<p><span style="font-size:18px">2.每周至少分享一个Android实例学习，开源框架or 高仿应用</span></p>
<p><span style="font-size:18px">3.深入研究Android源码，了解内部机制，争取能达到高级工程师，然后迈向架构师之路</span></p>
<p><span style="font-size:18px">4.每天多陪陪女朋友，她是生活的动力</span></p>
<p><span style="font-size:18px">5.每天要睡够7个小时</span></p>
<p><span style="font-size:18px">6.如果条件允许的话，接触一下ios</span></p>
<p><span style="font-size:18px">7.每天感谢一下身边的人，感谢一下亲人</span></p>
<p><span style="font-size:18px">晚安！我</span></p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-欺骗你的小眼睛——Android_静默安装" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/02/欺骗你的小眼睛——Android_静默安装/">欺骗你的小眼睛——Android 静默安装</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p style="text-align:left">我们一般代码调用安装apk会写下面的代码</p>
<p style="text-align:left"></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_1_7842544" name="code" class="java">Intent intent = new  Intent(Intent.ACTION_VIEW);
File apkFile = new File(Environment.getExternalStorageDirectory().getAbsolutePath()+&quot;/1.apk&quot;);
intent.setDataAndType(Uri.fromFile(apkFile),&quot;application/vnd.android.package-archive&quot;);
startActivity(intent);</pre>
<p></p>
<p style="text-align:left"><br>
</p>
<p style="text-align:left">我们安装apk时系统会分析apk，然后弹出如下图的提示</p>
<p style="text-align:left"><img src="" alt=""><img src="" alt=""><br>
</p>
<p style="text-align:left"><img src="" alt=""><br>
</p>
<p style="text-align:left">当我们点击安装后，系统会进行安装</p>
<p style="text-align:left">这里我们查看系统源码来看一下系统是怎么执行安装程序的</p>
<p style="text-align:left"><br>
</p>
<p style="text-align:left">首先我们找到<span style="font-size:18px"><strong>PackageInstallerActivity.java,</strong></span><span style="font-size:12px">一看命名规则就知道是apk安装的界面</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px">既然是Activity 那么我们首先来看<span style="color:#33ff33">onCreate()</span>方法</span></p>
<p style="text-align:left"><span style="font-size:12px"></span></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_2_3778679" name="code" class="java">@Override
    protected void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        //get intent information  获取Intent信息
        final Intent intent = getIntent();
        mPackageURI = intent.getData();//apk的uri
        mPm = getPackageManager(); 
        mPkgInfo = PackageUtil.getPackageInfo(mPackageURI);
        
        // Check for parse errors 检查apk是否有错误
        if(mPkgInfo == null) {
            Log.w(TAG, &quot;Parse error when parsing manifest. Discontinuing installation&quot;);
            showDialogInner(DLG_PACKAGE_ERROR);
            return;
        }
        
        //set view
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.install_start); //这就是上面的界面
        mInstallConfirm = findViewById(R.id.install_confirm_panel);
        mInstallConfirm.setVisibility(View.INVISIBLE);
        PackageUtil.AppSnippet as = PackageUtil.getAppSnippet(this,
                mPkgInfo.applicationInfo, mPackageURI);
        PackageUtil.initSnippetForNewApp(this, as, R.id.app_snippet);
       //check setting //是否设置了 允许安装未知来源，就是设置那里的
        if(!isInstallingUnknownAppsAllowed()) {
            //ask user to enable setting first
            showDialogInner(DLG_UNKNOWN_APPS);
            return;
        }
        initiateInstall();
    }
    </pre>
<p></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px">然后看initiateInstall（）方法</span></p>
<p style="text-align:left"><span style="font-size:12px"></span></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_3_454787" name="code" class="java">  private void initiateInstall() {
        String pkgName = mPkgInfo.packageName;
        // Check if there is already a package on the device with this name
        // but it has been renamed to something else. //检查是否有相同包名的应用
        String[] oldName = mPm.canonicalToCurrentPackageNames(new String[] { pkgName });
        if (oldName != null &amp;&amp; oldName.length &gt; 0 &amp;&amp; oldName[0] != null) {
            pkgName = oldName[0];
            mPkgInfo.setPackageName(pkgName);
        }
        // Check if package is already installed. display confirmation dialog if replacing pkg检查是否已经安装过了
        try {
            mAppInfo = mPm.getApplicationInfo(pkgName,
                    PackageManager.GET_UNINSTALLED_PACKAGES);
        } catch (NameNotFoundException e) {
            mAppInfo = null;
        }
        if (mAppInfo == null) {
            startInstallConfirm();//安装
        } else {
            if(localLOGV) Log.i(TAG, &quot;Replacing existing package:&quot;+
                    mPkgInfo.applicationInfo.packageName);
            showDialogInner(DLG_REPLACE_APP);
        }
    }
    </pre><br>
<br>
<p></p>
<p style="text-align:left"><span style="font-size:12px">来到startInstallConfirm（）</span></p>
<p style="text-align:left"><span style="font-size:12px"></span></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_4_9573109" name="code" class="java">    private void startInstallConfirm() {
        LinearLayout permsSection = (LinearLayout) mInstallConfirm.findViewById(R.id.permissions_section);
        LinearLayout securityList = (LinearLayout) permsSection.findViewById(
                R.id.security_settings_list);
        boolean permVisible = false;
        if(mPkgInfo != null) {
            AppSecurityPermissions asp = new AppSecurityPermissions(this, mPkgInfo);
            if(asp.getPermissionCount() &gt; 0) {
                permVisible = true;
                securityList.addView(asp.getPermissionsView());
            }
        }
        if(!permVisible){
            permsSection.setVisibility(View.INVISIBLE);
        }
        mInstallConfirm.setVisibility(View.VISIBLE);
        mOk = (Button)findViewById(R.id.ok_button); //确认按钮
        mCancel = (Button)findViewById(R.id.cancel_button);
        mOk.setOnClickListener(this);
        mCancel.setOnClickListener(this);
    }
</pre><br>
找点击事件 onClick()
<p></p>
<p style="text-align:left"></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_5_9804247" name="code" class="java" style="font-size:12px;"> public void onClick(View v) {
        if(v == mOk) { //开始安装，弹出安装进度界面
            // Start subactivity to actually install the application
            Intent newIntent = new Intent();
            newIntent.putExtra(PackageUtil.INTENT_ATTR_APPLICATION_INFO,
                    mPkgInfo.applicationInfo);
            newIntent.setData(mPackageURI);
            newIntent.setClass(this, InstallAppProgress.class); //这里调到了InstallAppProgress.java
            String installerPackageName = getIntent().getStringExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME);
            if (installerPackageName != null) {
                newIntent.putExtra(Intent.EXTRA_INSTALLER_PACKAGE_NAME, installerPackageName);
            }
            if(localLOGV) Log.i(TAG, &quot;downloaded app uri=&quot;+mPackageURI);
            startActivity(newIntent);
            finish();
        } else if(v == mCancel) {
            // Cancel and finish
            finish();
        }
    }</pre><br>
<span style="font-size:12px">继续跟踪 到</span><span style="font-size:18px">InstallAppProgress.java &nbsp; 的onCreate()</span>
<p></p>
<p style="text-align:left"><span style="font-size:18px"></span></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_6_3067029" name="code" class="java">  @Override
    public void onCreate(Bundle icicle) {
        super.onCreate(icicle);
        Intent intent = getIntent();
        mAppInfo = intent.getParcelableExtra(PackageUtil.INTENT_ATTR_APPLICATION_INFO);
        mPackageURI = intent.getData();
        initView();
    }</pre><br>
initView();
<p></p>
<p style="text-align:left"><span style="font-size:18px"></span></p>
<pre code_snippet_id="569739" snippet_file_name="blog_20150102_7_7607723" name="code" class="java">    public void initView() {
        requestWindowFeature(Window.FEATURE_NO_TITLE);
        setContentView(R.layout.op_progress);
        int installFlags = 0; //设置錐lag
        PackageManager pm = getPackageManager();
        try {
            PackageInfo pi = pm.getPackageInfo(mAppInfo.packageName, 
                    PackageManager.GET_UNINSTALLED_PACKAGES);
            if(pi != null) {
                installFlags |= PackageManager.INSTALL_REPLACE_EXISTING; //替换已经存在的
            }
        } catch (NameNotFoundException e) {
        }
        if((installFlags &amp; PackageManager.INSTALL_REPLACE_EXISTING )!= 0) {
            Log.w(TAG, &quot;Replacing package:&quot; + mAppInfo.packageName);
        }
        PackageUtil.AppSnippet as = PackageUtil.getAppSnippet(this, mAppInfo,
                mPackageURI);
        mLabel = as.label;
        PackageUtil.initSnippetForNewApp(this, as, R.id.app_snippet);
        mStatusTextView = (TextView)findViewById(R.id.center_text);
        mStatusTextView.setText(R.string.installing);
        mProgressBar = (ProgressBar) findViewById(R.id.progress_bar);
        mProgressBar.setIndeterminate(true);
        // Hide button till progress is being displayed
        mOkPanel = (View)findViewById(R.id.buttons_panel);
        mDoneButton = (Button)findViewById(R.id.done_button);
        mLaunchButton = (Button)findViewById(R.id.launch_button);
        mOkPanel.setVisibility(View.INVISIBLE);

        String installerPackageName = getIntent().getStringExtra(
                Intent.EXTRA_INSTALLER_PACKAGE_NAME);
        PackageInstallObserver observer = new PackageInstallObserver();
        pm.installPackage(mPackageURI, observer, installFlags, installerPackageName);//安装的代码
    }
</pre><br>
<br>
<p></p>
<p style="text-align:left"><span style="font-size:18px">几经周折，总算找到了。。。</span></p>
<p style="text-align:left"><span style="font-size:18px">下几句 关键的</span></p>
<p style="text-align:left"><span style="font-size:18px">&nbsp; &nbsp; &nbsp; <span style="font-family:Comic Sans MS">
&nbsp; &nbsp;int installFlags = <span style="color:#ff0000">0</span>; //设置Flag<br>
&nbsp; &nbsp; &nbsp; &nbsp; PackageManager pm = getPackageManager();<br>
&nbsp; &nbsp; &nbsp; &nbsp; try {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PackageInfo pi = pm.getPackageInfo(mAppInfo.packageName,&nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; PackageManager.GET_UNINSTALLED_PACKAGES);<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; if(pi != null) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; installFlags |= PackageManager.INSTALL_REPLACE_EXISTING; //替换已经存在的<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp; &nbsp; } catch (NameNotFoundException e) {<br>
&nbsp; &nbsp; &nbsp; &nbsp; }<br>
&nbsp; &nbsp; &nbsp;<br>
&nbsp; &nbsp; &nbsp; &nbsp; PackageUtil.AppSnippet as = PackageUtil.getAppSnippet(this, mAppInfo,<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mPackageURI);<br>
&nbsp; &nbsp; &nbsp; &nbsp; String installerPackageName = getIntent().getStringExtra(<br>
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Intent.EXTRA_INSTALLER_PACKAGE_NAME);<br>
&nbsp; &nbsp; &nbsp; &nbsp; PackageInstallObserver observer = new PackageInstallObserver();<br>
&nbsp; &nbsp; &nbsp; &nbsp;<span style="color:#ff0000"> pm.installPackage(mPackageURI, observer, installFlags, installerPackageName);//安装的代</span></span></span></p>
<p style="text-align:left"><span style="font-size:18px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:18px">我们可以通过上面的代码直接进行安装，</span></p>
<p style="text-align:left"><span style="font-size:18px">不过我们需要<span style="font-family:monospace; font-size:14px; white-space:pre-wrap">android.Manifest.permission#INSTALL_PACKAGE</span></span><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">,</span></p>
<p style="text-align:left"><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">此权限只有</span><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">system</span><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">应用</span><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">才能使用.</span></p>
<p style="text-align:left"><span style="font-family:monospace; font-size:14px; white-space:pre-wrap">所以此应用必须放入system/app下,</span></p>
<p style="text-align:left"><span style="font-family:monospace; white-space:pre-wrap"></span></p>
<div><span style="font-size:24px">解决思路</span></div>
<div><span style="font-size:24px"><span style="color:#97CDCC">•</span>将我们的应用伪装成系统的应用</span></div>
<div><span style="font-size:24px">实现步骤</span></div>
<div><span style="font-size:24px"><span style="color:#97CDCC">•</span>共享系统UID</span></div>
<div><span style="font-size:24px"><span style="color:rgb(151,205,204)">•</span>使用系统签名（匹配签名需要公钥和密钥两个文件生成keystore）</span></div>
<span style="font-size:14px"><br>
</span>
<p></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:24px">还有静默安装的一种方式是使用root权限 &nbsp;adb指令执行 install -r 进行安装</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><span style="font-size:12px"><br>
</span></p>
<p style="text-align:left"><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-应用开发中对_Crash_进行处理" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/20/应用开发中对_Crash_进行处理/">应用开发中对 Crash 进行处理</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<span style="font-family:KaiTi_GB2312; font-size:24px"><span style="color:rgb(51,51,51)"></span></span>
<p align="left"><span style="color:rgb(51,51,51)"></span><pre code_snippet_id="526993" snippet_file_name="blog_20141120_1_5953985" name="code" class="java">
</pre>&nbsp;<span style="color:rgb(51,51,51)">最新做的应用，发布之后用户反馈总是出现闪退，有时候会弹出</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">应用程序意外停止</span><span style="color:rgb(51,51,51)">”</span><span style="color:rgb(51,51,51)">，这时候就是应用程序发生</span><span style="color:rgb(51,51,51)">Crash</span><span style="color:rgb(51,51,51)">了，此时用户只能点击</span><span style="color:rgb(51,51,51)">“</span><span style="color:rgb(51,51,51)">强行关闭</span><span style="color:rgb(51,51,51)">”.</span><span style="color:rgb(51,51,51)">&nbsp;</span><span style="color:rgb(51,51,51)">用户这么说我只知道程序有地方出错了，但是具体地方让我去找那可是大海捞针啊</span><span style="color:rgb(51,51,51)">.</span></p>
<p align="left"></p>
<p align="left"><span style="color:rgb(51,51,51)">这个甚是让人头疼，于是网上搜索一阵，看到关于</span><span style="color:rgb(51,51,51)">应用处理</span><span style="color:rgb(51,51,51)">crash</span><span style="color:rgb(51,51,51)">的方法，</span></p>
<p align="left"><span style="color:rgb(51,51,51)">&nbsp;<img src="http://img.blog.csdn.net/20141120204320761?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvaHB1X3p5aA==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></span></p>
<p align="left"><span style="color:rgb(51,51,51)">Java </span><span style="color:rgb(51,51,51)">中</span><span style="color:rgb(51,51,51)"> Thread
</span><span style="color:rgb(51,51,51)">类中有一个内部接口</span></p>
<p align="left"><span style="color:rgb(51,51,51)"><br>
</span></p>
<p align="left"><span style="color:rgb(51,51,51)"></span></p>
<p align="left"><br>
</p>
<p align="left">&nbsp;<pre code_snippet_id="526993" snippet_file_name="blog_20141120_2_2314448" name="code" class="java">/**当Thread因未捕获异常而突然中止，调用处理程序的接口
     */
   publicstaticinterfaceUncaughtExceptionHandler{
        void uncaughtException(Thread thread, Throwable ex);
}</pre><br>
</p>
<p align="left">&nbsp;</p>
<p align="left">&nbsp;<pre code_snippet_id="526993" snippet_file_name="blog_20141120_3_1923139" name="code" class="java">/**
     *设置当线程未捕获到异常而异常终止，并且Thread挂掉是没有任何处理程序时所调用的默认处理程序
     * @param handler
     *            The handler to set or null.
     */
   publicstaticvoidsetDefaultUncaughtExceptionHandler(UncaughtExceptionHandlerhandler){
        Thread.defaultUncaughtHandler = handler;
   }
</pre><br>
</p>
<p align="left"></p>
<p align="left"><span style="font-family:KaiTi_GB2312; font-size:24px"><span style="color:rgb(51,51,51)">一般的应用程序都要有一个</span><span style="color:rgb(51,51,51)">Crash</span><span style="color:rgb(51,51,51)">反馈机制。一旦</span><span style="color:rgb(51,51,51)">Crash</span><span style="color:rgb(51,51,51)">发生，可以通过一种方法了解</span><span style="color:rgb(51,51,51)">Crash</span><span style="color:rgb(51,51,51)">的信息，开发者可以根据这些信息对代码进行修改。当程序崩溃时可以记录重要的信息以便恢复现场（类&#20284;天天动听），避免</span><span style="color:rgb(51,51,51)">android</span><span style="color:rgb(51,51,51)">系统本身弹出的提示框优化用户体验，或者对异常进行处理把收集到的信息传到服务器。</span></span></p>
<p align="left"><span style="color:rgb(51,51,51)"><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></span></p>
<p align="left"><span style="font-family:KaiTi_GB2312; font-size:24px"><span style="color:rgb(51,51,51)">要捕获</span><span style="color:rgb(51,51,51)">Crash
</span><span style="color:rgb(51,51,51)">首先需要<em><strong>实现</strong></em></span><span style="color:rgb(51,51,51)"><em><strong>UncaughtExceptionHandler</strong></em>
</span><span style="color:rgb(51,51,51)">接口，然后在主线程中调用该处理程序基于以上的原因</span></span></p>
<br>
<p align="left"><pre code_snippet_id="526993" snippet_file_name="blog_20141120_4_3201053" name="code" class="java">

public class DefaultExceptionHandler implements UncaughtExceptionHandler{
    private Context context=null;

    public DefaultExceptionHandler(Context context){
        this.context=context;
    }

    public void uncaughtException(Thread thread,Throwable ex){
        //收集异常信息
        sendCrashReport(ex);
        //等待半秒
        try{
            Thread.sleep(500);
        }catch(InterruptedException e){
            e.printStackTrace();

        }

        //处理异常
        handleException();

    }

    private void sendCrashReport(Throwable ex){
        StringBuffer exceptionStr=new StringBuffer();
        exceptionStr.append(ex.getMessage());
        StackTraceElement[] elements=ex.getStackTrace();
        for(int i=0;i&lt;elements.length;i++){
            exceptionStr.append(elements[i].toString());
        }

        //这里可以发送收集到的Crash信息到服务器
    }

    private void handleException(){
        //这里可以对异常处理
        //可以记录主要的信息
        //干脆直接杀死应用程序 System.exit(0); //或再次抛给系统处理

    }

}</pre><br>
</p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">我们只需要在主Activity中调用一次即可，不需要在所有地方都调用</span></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px">&nbsp;</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">运行上面代码，当Crash发生以后，Android 系统本身就不会出现提示强行停止的对话框了，系统会调用我们的程序，手机异常信息上传服务器 &nbsp; &nbsp;</span><br>
<p align="left"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p align="left"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p align="left"><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<p align="left"><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-给用户第一印象---应用启动界面" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/27/给用户第一印象---应用启动界面/">给用户第一印象---应用启动界面</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p></p>
<p><span style="font-size:32px">作为与用户的第一次亲密接触</span></p>
<p><span style="font-size:32px"><br>
<span style="font-family:Microsoft YaHei">splash界面的作用：</span></span></p>
<p><span style="font-family:Microsoft YaHei; font-size:24px">1、展现App的Logo，给用户的第一印象；一般包括图标和应用名称，或者加一句标语</span></p>
<p><span style="font-family:Microsoft YaHei; font-size:24px">2、应用程序初始化的操作；如初始化网络，或者获取用户位置信息，设备信息等<br>
3、检查应用程序的版本；用于提醒版本更新等操作<br>
4、检查当前应用程序是否合法注册；</span></p>
<p><br>
</p>
<p><pre name="code" class="java">public class AppUtil {

	/**
	 * 获取应用程序名称
	 */
	public static String getAppName(Context context) {
		try {
			PackageManager packageManager = context.getPackageManager();
			PackageInfo packageInfo = packageManager.getPackageInfo(context.getPackageName(), 0);
			int labelRes = packageInfo.applicationInfo.labelRes;
			return context.getResources().getString(labelRes);
		} catch (NameNotFoundException e) {
			e.printStackTrace();
		}
		return null;
	}

	/**
	 * [获取应用程序版本名称信息]
	 * @param context
	 * @return 当前应用的版本名称
	 */
	public static String getVersionName(Context context) {
		try {
			PackageManager packageManager = context.getPackageManager();
			PackageInfo packageInfo = packageManager.getPackageInfo(context.getPackageName(), 0);
			return packageInfo.versionName;
		} catch (NameNotFoundException e) {
			e.printStackTrace();
		}
		return null;
	}

}
</pre><br>
<br>
</p>
<p><pre name="code" class="java"> /** 弹出更新对话框
	 */
	private void showUpdate() {
		Builder builder = new Builder(this);
		builder.setTitle(&quot;发现新版本&quot;);
		builder.setMessage(Update.DESCRIPTION);
		builder.setPositiveButton(&quot;立即下载&quot;, new OnClickListener() {
			public void onClick(DialogInterface dialog, int which) {
				startService(new Intent(SplashActivity.this, UpdateService.class));
				handler.sendEmptyMessage(ENTER_HOME);
			}
		});
		builder.setNegativeButton(&quot;以后再说&quot;, new OnClickListener() {
			public void onClick(DialogInterface dialog, int which) {
				handler.sendEmptyMessage(ENTER_HOME);
			}
		});
		builder.show();
	};</pre><br>
<br>
</p>
<p><pre name="code" class="java">
/**通知栏后台下载apk的服务*/
public class UpdateService extends Service {

	// 标题
	private int titleId = R.string.app_name;

	// 文件存储
	private File updateDir = null;
	private File updateFile = null;

	// 通知栏
	private NotificationManager updateNotificationManager = null;
	private Notification updateNotification = null;

	private RemoteViews remoteViews;// 状态栏通知显示的view

	@Override
	public IBinder onBind(Intent intent) {
		return null;
	}

	@Override
	public int onStartCommand(Intent intent, int flags, int startId) {
		System.out.println(&quot;开始下载&quot;);
		// 创建文件
		if (Environment.MEDIA_MOUNTED.equals(Environment.getExternalStorageState())) {
			updateDir = new File(Environment.getExternalStorageDirectory().getAbsolutePath());
			updateFile = new File(updateDir.getPath(), getResources().getString(titleId) + &quot;.apk&quot;);
		}

		// 创建通知栏
		this.updateNotificationManager = (NotificationManager) getSystemService(NOTIFICATION_SERVICE);
		this.updateNotification = new Notification();
		this.updateNotification.flags |= Notification.FLAG_AUTO_CANCEL;
		// 通知栏视图
		remoteViews = new RemoteViews(getPackageName(), R.layout.notification_update);
		remoteViews.setImageViewResource(R.id.iv_update_icon, R.drawable.ic_launcher);
		updateNotification.contentView = remoteViews;
		updateNotification.icon = R.drawable.ic_launcher;// 设置通知消息的图标
		updateNotification.tickerText = &quot;正在下载。。。&quot;;// 设置通知消息的标题
		// 发出通知
		updateNotificationManager.notify(0, updateNotification);

		// 下载apk
		FinalHttp http = new FinalHttp();
		String url = Update.APKURL;
		http.download(url, updateFile.getAbsolutePath(), new AjaxCallBack&lt;File&gt;() {
			@Override
			public void onFailure(Throwable t, int errorNo, String strMsg) {
				// 下载失败
				remoteViews.setTextViewText(R.id.tv_update_text, &quot;下载失败&quot;);
				remoteViews.setProgressBar(R.id.pb_update_progress, 100, 30, false);
				updateNotification.contentView = remoteViews;
				updateNotificationManager.notify(0, updateNotification);
				// 停止服务
				stopSelf();
				super.onFailure(t, errorNo, strMsg);
			}

			@Override
			public void onLoading(long count, long current) {
				int progress = (int) (current * 100 / count);
				remoteViews.setTextViewText(R.id.tv_update_text, &quot;已下载&quot; + progress + &quot;%&quot;);
				remoteViews.setProgressBar(R.id.pb_update_progress, 100, (int) progress, false);
				updateNotification.contentView = remoteViews;
				updateNotificationManager.notify(0, updateNotification);
				super.onLoading(count, current);
			}

			@Override
			public void onSuccess(File t) {
				// 点击安装PendingIntent
				Uri uri = Uri.fromFile(t);
				Intent installIntent = new Intent(Intent.ACTION_VIEW);
				installIntent.setDataAndType(uri, &quot;application/vnd.android.package-archive&quot;);
				PendingIntent updatePendingIntent = PendingIntent.getActivity(UpdateService.this, 0, installIntent, 0);

				updateNotification.defaults = Notification.DEFAULT_SOUND;// 铃声提醒
				remoteViews.setTextViewText(R.id.tv_update_text, &quot;下载完成，点击安装&quot;);
				remoteViews.setProgressBar(R.id.pb_update_progress, 100, 100, false);
				updateNotification.contentView = remoteViews;
				updateNotification.setLatestEventInfo(getApplicationContext(), &quot;APP&quot;, &quot;下载完成，点击安装&quot;, updatePendingIntent);
				updateNotificationManager.notify(0, updateNotification);
				// 停止服务
				stopSelf();
				super.onSuccess(t);
			}
		});
		return super.onStartCommand(intent, flags, startId);
	}

}
</pre><br>
<br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><img src="http://img.tuyiyi.com/images/201402/13929726567989.png" alt=""><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-自定义控件_---_DeletableEditText带删除按钮的EditText" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/26/自定义控件_---_DeletableEditText带删除按钮的EditText/">自定义控件 --- DeletableEditText带删除按钮的EditText</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><img src="http://img.blog.csdn.net/20140926144938572" alt=""><br>
</p>
<p>DeletableEditText 的布局：</p>
<p><br>
</p>
<pre code_snippet_id="475707" snippet_file_name="blog_20140926_1_1408152" name="code" class="html">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;fill_parent&quot;
    android:focusable=&quot;true&quot;
    android:focusableInTouchMode=&quot;true&quot; &gt;

    &lt;EditText
        android:id=&quot;@+id/edt_input&quot;
        android:singleLine=&quot;true&quot;
        android:layout_width=&quot;fill_parent&quot;
        android:layout_height=&quot;fill_parent&quot;
        android:paddingLeft=&quot;10dp&quot;
        android:paddingRight=&quot;10dp&quot; /&gt;
    &lt;!--删除按钮--!&gt;
    &lt;ImageButton
        android:id=&quot;@+id/btn_delete&quot;
        android:scaleType=&quot;centerInside&quot;
        android:layout_margin=&quot;5dp&quot;
        android:layout_width=&quot;wrap_content&quot;
        android:layout_height=&quot;wrap_content&quot;
        android:layout_alignParentRight=&quot;true&quot;
        android:layout_alignParentEnd=&quot;true&quot;
        android:layout_centerVertical=&quot;true&quot;
        android:layout_marginRight=&quot;10dp&quot;
        android:background=&quot;@drawable/hzdl_cancel_n&quot;
        android:visibility=&quot;gone&quot; /&gt;
&lt;/RelativeLayout&gt;</pre><br>
<br>
<p></p>
<p><br>
</p>
<p>定义类 继承 LinearLayout</p>
<p></p>
<pre code_snippet_id="475707" snippet_file_name="blog_20140926_2_3823174" name="code" class="java">package com.example.deletableedittext;

import android.content.Context;
import android.text.Editable;
import android.text.TextWatcher;
import android.util.AttributeSet;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.EditText;
import android.widget.ImageButton;
import android.widget.LinearLayout;

import com.zyh.deletableedittext.R;

/**
 * 带删除按钮的EditText
 * @author zyh
 */
public class DeleteableEditText extends LinearLayout {

	private EditText edt_input;
	private ImageButton btn_delete;

	public DeleteableEditText(Context context) {
		super(context);
	}

	public DeleteableEditText(Context context, AttributeSet attrs) {
		super(context, attrs);
		// 获取布局
		View view = LayoutInflater.from(context).inflate(R.layout.edit_delete, this, true);
		edt_input = (EditText) view.findViewById(R.id.edt_input);
		btn_delete = (ImageButton) this.findViewById(R.id.btn_delete);
		edt_input.addTextChangedListener(new TextWatcher() {
			public void onTextChanged(CharSequence s, int start, int before, int count) {
			}

			public void beforeTextChanged(CharSequence s, int start, int count, int after) {
			}

			public void afterTextChanged(Editable s) {
				btn_delete.setVisibility(edt_input.isFocused() &amp;&amp; s.length() &gt; 0 ? View.VISIBLE : View.GONE);
			}
		});
		edt_input.setOnFocusChangeListener(new OnFocusChangeListener() {
			public void onFocusChange(View v, boolean hasFocus) {
				btn_delete.setVisibility(edt_input.getText().length() &lt;= 0 || !hasFocus ? 8 : 0);
			}
		});
		btn_delete.setOnClickListener(new OnClickListener() {
			public void onClick(View v) {
				edt_input.setText(&quot;&quot;);
			}
		});
	}

	/**
	 * @param str 设置输入框显示的默认值
	 */
	public void setHint(String str) {
		edt_input.setHint(str);
	}

	/**
	 * @return 获取输入框中的内容
	 */
	public String getText() {
		return edt_input.getText().toString().trim();
	}

	/**
	 * @param str 设置输入框内容
	 */
	public void setText(String str) {
		edt_input.setText(str);
	}

	/**
	 * @param id 字符id
	 */
	public void setText(int id) {
		edt_input.setText(id);
	}

}
</pre><br>
<br>
<p></p>
<p>然后就可以直接在 布局中使用了&nbsp;</p>
<p><br>
</p>
<p><span style="font-size:24px; color:#ff0000"><a target="_blank" href="https://github.com/18236887539/DeletableEditText">源码地址：https://github.com/18236887539/DeletableEditText</a></span></p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-自定义控件--垂直滑动布局" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/25/自定义控件--垂直滑动布局/">自定义控件--垂直滑动布局</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><img src="http://img.blog.csdn.net/20140925141607109" alt=""><br>
</p>
<p>自定义一个垂直的布局</p>
<p></p>
<pre code_snippet_id="474951" snippet_file_name="blog_20140925_1_7318963" name="code" class="java">package com.zyh.verticalscrollview;

import android.content.Context;
import android.util.AttributeSet;
import android.view.GestureDetector;
import android.view.GestureDetector.OnGestureListener;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.widget.Scroller;

public class VerticalSrcollView extends ViewGroup {

	public VerticalSrcollView(Context context, AttributeSet attrs, int defStyle) {
		super(context, attrs, defStyle);
	}

	private Context cx;

	public VerticalSrcollView(Context context) {
		super(context);
		this.cx = context;
		init();
	}

	public VerticalSrcollView(Context context, AttributeSet attrs) {
		super(context, attrs);
		this.cx = context;
		init();
	}

	private void init() {
		scroller = new Scroller(cx);
		detector = new GestureDetector(cx, new OnGestureListener() {
			public boolean onSingleTapUp(MotionEvent e) {
				return false;
			}

			public void onShowPress(MotionEvent e) {
			}

			/**
			 * 当手指正常滑动时回调
			 */
			public boolean onScroll(MotionEvent e1, MotionEvent e2, float distanceX, float distanceY) {
				if ((distanceY &lt; 0 &amp;&amp; curId == 0) || (distanceY &gt; 0 &amp;&amp; curId == getChildCount() - 1)) {// 首页跟末尾页超出边界
					return false;
				}
				scrollBy(0, (int) distanceY);
				return false;
			}

			public void onLongPress(MotionEvent e) {
			}

			/**
			 * 当快速滑动式回调
			 */
			public boolean onFling(MotionEvent e1, MotionEvent e2, float velocityX, float velocityY) {
				System.out.println(&quot;vY：&quot; + velocityY);
				System.out.println(&quot;cr：&quot; + curId);
				if (velocityY &gt; 0 &amp;&amp; curId &gt; 0) {
					moveToDest(curId - 1);
				} else if (velocityY &lt; 0 &amp;&amp; curId &lt; getChildCount() - 1) {
					moveToDest(curId + 1);
				} else {
					moveToDest(curId);
				}
				isFling = true;
				return false;
			}

			public boolean onDown(MotionEvent e) {
				return false;
			}
		});
	}

	/**
	 * 对子view进行排列布局
	 */
	@Override
	protected void onLayout(boolean changed, int l, int t, int r, int b) {

		for (int i = 0; i &lt; getChildCount(); i++) {
			View view = this.getChildAt(i);
			view.layout(0, i * getHeight(), getWidth(), (i + 1) * getHeight());
		}
	}

	/**
	 * 必须对子View进行measure
	 */
	@Override
	protected void onMeasure(int widthMeasureSpec, int heightMeasureSpec) {
		super.onMeasure(widthMeasureSpec, heightMeasureSpec);

		for (int i = 0; i &lt; getChildCount(); i++) {
			View view = getChildAt(i);
			view.measure(widthMeasureSpec, heightMeasureSpec);
		}
	}

	private GestureDetector detector;
	private Scroller scroller;
	private int curId;// 当前子View的Id
	private boolean isFling = false; // 是否发生快速滑动

	@Override
	public boolean onTouchEvent(MotionEvent event) {

		detector.onTouchEvent(event);// 交给手势识别器

		switch (event.getAction()) {
			case MotionEvent.ACTION_UP:// 手指抬起
				if (!isFling) moveToDest();
				isFling = false;
				break;
			default:
				break;
		}
		return true;
	}

	/**
	 * ViewGroup的内容移动到合适位置
	 */
	private void moveToDest() {
		// 计算当前子view的id
		int destId = (getHeight() / 2 + getScrollY()) / getHeight();
		moveToDest(destId);
	}

	/**
	 * 将指定下标destId的控件移到屏幕
	 * @param destId
	 */
	private void moveToDest(int destId) {
		curId = destId;
		if (destId &gt; getChildCount() - 1) destId = getChildCount() - 1;
		int distance = destId * getHeight() - getScrollY();// 需要移动的距离
		// scrollBy(0, distance);
		scroller.startScroll(0, getScrollY(), 0, distance);
		invalidate();// 刷新视图,执行computeScroll()
	}

	@Override
	public void computeScroll() {
		if (scroller.computeScrollOffset()) {
			scrollTo(0, scroller.getCurrY());
			invalidate();
		}
	}

	public void setOnPageScrollListener(IPageChangeListener changeListener) {
		this.pageChangeListener = changeListener;
	}

	private IPageChangeListener pageChangeListener;

	/**
	 * 页面滑动监听器
	 * @author zyh
	 */
	public interface IPageChangeListener {
		public void changeTo(int pageId);
	}
}
</pre><br>
<br>
<p></p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-自定义Button_直接设置selector" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/25/自定义Button_直接设置selector/">自定义Button 直接设置selector</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p></p>
<h1 style="font-size:2.25em; margin:1em 0px 16px; line-height:1.2; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
Custom button that can implement click effect don't need create a selector.xml</h1>
<h1 style="font-size:2.25em; margin:1em 0px 16px; line-height:1.2; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
<a target="_blank" name="user-content-how-to-use" class="anchor" href="https://github.com/18236887539/SelectorButton/blob/master/README.md#how-to-use" style="background-color:transparent; color:rgb(65,131,196); text-decoration:none; position:absolute; top:0px; bottom:0px; left:0px; display:block; padding-right:6px; padding-left:30px; margin-left:-30px"></a>How
 To Use</h1>
<h2 style="margin-top:1em; margin-bottom:16px; line-height:1.225; font-size:1.75em; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
<a target="_blank" name="user-content-0-create-resvaluesattrsxml--add--code" class="anchor" href="https://github.com/18236887539/SelectorButton/blob/master/README.md#0-create-resvaluesattrsxml--add--code" style="background-color:transparent; color:rgb(65,131,196); text-decoration:none; position:absolute; top:0px; bottom:0px; left:0px; display:block; padding-right:6px; padding-left:30px; margin-left:-30px"></a>0.
 create res/values/attrs.xml add code</h2>
<div class="highlight highlight-xml" style="margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
<pre style="overflow:auto; font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace; font-size:14px; margin-top:0px; margin-bottom:0px; line-height:1.45; padding:16px; background-color:rgb(247,247,247); word-wrap:normal; word-break:normal"><span class="cp" style="color:rgb(153,153,153); font-weight:bold">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;resources&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;declare-styleable</span> <span class="na" style="color:rgb(0,128,128)">name=</span><span class="s" style="color:rgb(221,17,68)">&quot;SelectorButton&quot;</span><span class="nt" style="color:rgb(0,0,128)">&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;attr</span> <span class="na" style="color:rgb(0,128,128)">name=</span><span class="s" style="color:rgb(221,17,68)">&quot;normal_drawable&quot;</span> <span class="na" style="color:rgb(0,128,128)">format=</span><span class="s" style="color:rgb(221,17,68)">&quot;reference&quot;</span> <span class="nt" style="color:rgb(0,0,128)">/&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;attr</span> <span class="na" style="color:rgb(0,128,128)">name=</span><span class="s" style="color:rgb(221,17,68)">&quot;pressed_drawable&quot;</span> <span class="na" style="color:rgb(0,128,128)">format=</span><span class="s" style="color:rgb(221,17,68)">&quot;reference&quot;</span> <span class="nt" style="color:rgb(0,0,128)">/&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;/declare-styleable&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;/resources&gt;</span>
</pre>
</div>
<h2 style="margin-top:1em; margin-bottom:16px; line-height:1.225; font-size:1.75em; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
<a target="_blank" name="user-content-1create-a-class-seletorbutton-to-extends--button" class="anchor" href="https://github.com/18236887539/SelectorButton/blob/master/README.md#1create-a-class-seletorbutton-to-extends--button" style="background-color:transparent; color:rgb(65,131,196); text-decoration:none; position:absolute; top:0px; bottom:0px; left:0px; display:block; padding-right:6px; padding-left:30px; margin-left:-30px"></a>1.Create
 a class SeletorButton to extends Button</h2>
<div class="highlight highlight-java" style="margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
<pre style="overflow:auto; font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace; font-size:14px; margin-top:0px; margin-bottom:0px; line-height:1.45; padding:16px; background-color:rgb(247,247,247); word-wrap:normal; word-break:normal"><span class="kn" style="font-weight:bold">package</span> <span class="n" style="">com</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">example</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">mybutton</span><span class="o" style="font-weight:bold">;</span>

<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.content.Context</span><span class="o" style="font-weight:bold">;</span>
<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.content.res.TypedArray</span><span class="o" style="font-weight:bold">;</span>
<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.graphics.drawable.Drawable</span><span class="o" style="font-weight:bold">;</span>
<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.graphics.drawable.StateListDrawable</span><span class="o" style="font-weight:bold">;</span>
<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.util.AttributeSet</span><span class="o" style="font-weight:bold">;</span>
<span class="kn" style="font-weight:bold">import</span> <span class="nn" style="color:rgb(85,85,85)">android.widget.Button</span><span class="o" style="font-weight:bold">;</span>

<span class="kd" style="font-weight:bold">public</span> <span class="kd" style="font-weight:bold">class</span> <span class="nc" style="color:rgb(68,85,136); font-weight:bold">SelectorButton</span> <span class="kd" style="font-weight:bold">extends</span> <span class="n" style="">Button</span> <span class="o" style="font-weight:bold">{</span>
    <span class="kd" style="font-weight:bold">public</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">SelectorButton</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">Context</span> <span class="n" style="">context</span><span class="o" style="font-weight:bold">)</span> <span class="o" style="font-weight:bold">{</span>
        <span class="kd" style="font-weight:bold">super</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">context</span><span class="o" style="font-weight:bold">);</span>
    <span class="o" style="font-weight:bold">}</span>
    <span class="kd" style="font-weight:bold">public</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">SelectorButton</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">Context</span> <span class="n" style="">context</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">AttributeSet</span> <span class="n" style="">attrs</span><span class="o" style="font-weight:bold">,</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span> <span class="n" style="">defStyle</span><span class="o" style="font-weight:bold">)</span> <span class="o" style="font-weight:bold">{</span>
        <span class="kd" style="font-weight:bold">super</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">context</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">attrs</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">defStyle</span><span class="o" style="font-weight:bold">);</span>
    <span class="o" style="font-weight:bold">}</span>

    <span class="cm" style="color:rgb(153,153,136); font-style:italic">/**</span>
<span class="cm" style="color:rgb(153,153,136); font-style:italic">     * zyh:normal_drawable=&quot;@drawable/btn_login_normal&quot; zyh:pressed_drawable=&quot;@drawable/btn_login_pressed&quot;</span>
<span class="cm" style="color:rgb(153,153,136); font-style:italic">     * @param context</span>
<span class="cm" style="color:rgb(153,153,136); font-style:italic">     * @param attrs</span>
<span class="cm" style="color:rgb(153,153,136); font-style:italic">     */</span>
    <span class="kd" style="font-weight:bold">public</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">SelectorButton</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">Context</span> <span class="n" style="">context</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">AttributeSet</span> <span class="n" style="">attrs</span><span class="o" style="font-weight:bold">)</span> <span class="o" style="font-weight:bold">{</span>
        <span class="kd" style="font-weight:bold">super</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">context</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">attrs</span><span class="o" style="font-weight:bold">);</span>

        <span class="n" style="">StateListDrawable</span> <span class="n" style="">seletor</span> <span class="o" style="font-weight:bold">=</span> <span class="k" style="font-weight:bold">new</span> <span class="nf" style="color:rgb(153,0,0); font-weight:bold">StateListDrawable</span><span class="o" style="font-weight:bold">();</span><span class="c1" style="color:rgb(153,153,136); font-style:italic">// 背景选择器</span>
        <span class="n" style="">Drawable</span> <span class="n" style="">n</span> <span class="o" style="font-weight:bold">=</span> <span class="kc" style="font-weight:bold">null</span><span class="o" style="font-weight:bold">;</span>
        <span class="n" style="">Drawable</span> <span class="n" style="">p</span> <span class="o" style="font-weight:bold">=</span> <span class="kc" style="font-weight:bold">null</span><span class="o" style="font-weight:bold">;</span>

        <span class="n" style="">TypedArray</span> <span class="n" style="">array</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">context</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">obtainStyledAttributes</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">attrs</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">styleable</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">SelectorButton</span><span class="o" style="font-weight:bold">);</span>
        <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span> <span class="n" style="">count</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">getIndexCount</span><span class="o" style="font-weight:bold">();</span><span class="c1" style="color:rgb(153,153,136); font-style:italic">// 获取属性个数</span>
        <span class="n" style="">System</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">out</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">println</span><span class="o" style="font-weight:bold">(</span><span class="s" style="color:rgb(221,17,68)">&quot;count:&quot;</span> <span class="o" style="font-weight:bold">&#43;</span> <span class="n" style="">count</span><span class="o" style="font-weight:bold">);</span>
        <span class="k" style="font-weight:bold">for</span> <span class="o" style="font-weight:bold">(</span><span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span> <span class="n" style="">i</span> <span class="o" style="font-weight:bold">=</span> <span class="mi" style="color:rgb(0,153,153)">0</span><span class="o" style="font-weight:bold">;</span> <span class="n" style="">i</span> <span class="o" style="font-weight:bold">&lt;</span> <span class="n" style="">count</span><span class="o" style="font-weight:bold">;</span> <span class="n" style="">i</span><span class="o" style="font-weight:bold">&#43;&#43;)</span> <span class="o" style="font-weight:bold">{</span>
            <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span> <span class="n" style="">index</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">getIndex</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">i</span><span class="o" style="font-weight:bold">);</span>
            <span class="n" style="">System</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">out</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">println</span><span class="o" style="font-weight:bold">(</span><span class="s" style="color:rgb(221,17,68)">&quot;index:&quot;</span> <span class="o" style="font-weight:bold">&#43;</span> <span class="n" style="">index</span><span class="o" style="font-weight:bold">);</span>
            <span class="n" style="">System</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">out</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">println</span><span class="o" style="font-weight:bold">(</span><span class="s" style="color:rgb(221,17,68)">&quot;draw:&quot;</span> <span class="o" style="font-weight:bold">&#43;</span> <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">getDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">index</span><span class="o" style="font-weight:bold">));</span>
            <span class="k" style="font-weight:bold">switch</span> <span class="o" style="font-weight:bold">(</span><span class="n" style="">index</span><span class="o" style="font-weight:bold">)</span> <span class="o" style="font-weight:bold">{</span>
                <span class="k" style="font-weight:bold">case</span> <span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">styleable</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">SelectorButton_normal_drawable</span><span class="o" style="font-weight:bold">:</span>
                    <span class="n" style="">n</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">getDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">index</span><span class="o" style="font-weight:bold">);</span>
                    <span class="k" style="font-weight:bold">break</span><span class="o" style="font-weight:bold">;</span>
                <span class="k" style="font-weight:bold">case</span> <span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">styleable</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">SelectorButton_pressed_drawable</span><span class="o" style="font-weight:bold">:</span>
                    <span class="n" style="">p</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">getDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">index</span><span class="o" style="font-weight:bold">);</span>
                    <span class="k" style="font-weight:bold">break</span><span class="o" style="font-weight:bold">;</span>
            <span class="o" style="font-weight:bold">}</span>
        <span class="o" style="font-weight:bold">}</span>
        <span class="n" style="">seletor</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">addState</span><span class="o" style="font-weight:bold">(</span><span class="k" style="font-weight:bold">new</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span><span class="o" style="font-weight:bold">[]</span> <span class="o" style="font-weight:bold">{</span> <span class="n" style="">android</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">attr</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">state_pressed</span> <span class="o" style="font-weight:bold">},</span> <span class="n" style="">p</span><span class="o" style="font-weight:bold">);</span>
        <span class="n" style="">seletor</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">addState</span><span class="o" style="font-weight:bold">(</span><span class="k" style="font-weight:bold">new</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span><span class="o" style="font-weight:bold">[]</span> <span class="o" style="font-weight:bold">{</span> <span class="n" style="">android</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">attr</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">state_focused</span> <span class="o" style="font-weight:bold">},</span> <span class="n" style="">p</span><span class="o" style="font-weight:bold">);</span>
        <span class="n" style="">seletor</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">addState</span><span class="o" style="font-weight:bold">(</span><span class="k" style="font-weight:bold">new</span> <span class="kt" style="color:rgb(68,85,136); font-weight:bold">int</span><span class="o" style="font-weight:bold">[]</span> <span class="o" style="font-weight:bold">{},</span> <span class="n" style="">n</span><span class="o" style="font-weight:bold">);</span>
        <span class="k" style="font-weight:bold">this</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">setBackgroundDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">seletor</span><span class="o" style="font-weight:bold">);</span>
        <span class="n" style="">array</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">recycle</span><span class="o" style="font-weight:bold">();</span>
    <span class="o" style="font-weight:bold">}</span>
<span class="o" style="font-weight:bold">}</span>
</pre>
</div>
<h2 style="margin-top:1em; margin-bottom:16px; line-height:1.225; font-size:1.75em; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
<a target="_blank" name="user-content-2-use--in-xml" class="anchor" href="https://github.com/18236887539/SelectorButton/blob/master/README.md#2-use--in-xml" style="background-color:transparent; color:rgb(65,131,196); text-decoration:none; position:absolute; top:0px; bottom:0px; left:0px; display:block; padding-right:6px; padding-left:30px; margin-left:-30px"></a>2.
 use in xml</h2>
<div class="highlight highlight-xml" style="margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
<pre style="overflow:auto; font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace; font-size:14px; margin-top:0px; margin-bottom:0px; line-height:1.45; padding:16px; background-color:rgb(247,247,247); word-wrap:normal; word-break:normal"><span class="c" style="color:rgb(153,153,136); font-style:italic">&lt;!-- First you should define a namespace --!&gt;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic"> xmlns:zyh=&quot;http://schemas.android.com/apk/res/com.example.mybutton&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">&lt;!--use SelectorButton--!&gt;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic"> &lt;com.example.mybutton.SelectorButton</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        android:id=&quot;@&#43;id/btn&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        android:layout_width=&quot;wrap_content&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        android:layout_height=&quot;wrap_content&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        android:text=&quot;button&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        zyh:normal_drawable=&quot;@drawable/exam_list_bg_default&quot;</span>
<span class="c" style="color:rgb(153,153,136); font-style:italic">        zyh:pressed_drawable=&quot;@drawable/exam_list_bg_pressed&quot; /&gt;</span>
</pre>
</div>
<p></p>
<p style="margin-top:0px; margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
example: main.xml</p>
<div class="highlight highlight-xml" style="margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
<pre style="overflow:auto; font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace; font-size:14px; margin-top:0px; margin-bottom:0px; line-height:1.45; padding:16px; background-color:rgb(247,247,247); word-wrap:normal; word-break:normal"><span class="nt" style="color:rgb(0,0,128)">&lt;RelativeLayout</span> <span class="na" style="color:rgb(0,128,128)">xmlns:android=</span><span class="s" style="color:rgb(221,17,68)">&quot;http://schemas.android.com/apk/res/android&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">xmlns:tools=</span><span class="s" style="color:rgb(221,17,68)">&quot;http://schemas.android.com/tools&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">xmlns:zyh=</span><span class="s" style="color:rgb(221,17,68)">&quot;http://schemas.android.com/apk/res/com.example.mybutton&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:layout_width=</span><span class="s" style="color:rgb(221,17,68)">&quot;match_parent&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:layout_height=</span><span class="s" style="color:rgb(221,17,68)">&quot;match_parent&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:paddingBottom=</span><span class="s" style="color:rgb(221,17,68)">&quot;@dimen/activity_vertical_margin&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:paddingLeft=</span><span class="s" style="color:rgb(221,17,68)">&quot;@dimen/activity_horizontal_margin&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:paddingRight=</span><span class="s" style="color:rgb(221,17,68)">&quot;@dimen/activity_horizontal_margin&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">android:paddingTop=</span><span class="s" style="color:rgb(221,17,68)">&quot;@dimen/activity_vertical_margin&quot;</span>
    <span class="na" style="color:rgb(0,128,128)">tools:context=</span><span class="s" style="color:rgb(221,17,68)">&quot;com.example.mybutton.MainActivity&quot;</span> <span class="nt" style="color:rgb(0,0,128)">&gt;</span>

    <span class="nt" style="color:rgb(0,0,128)">&lt;com.example.mybutton.SelectorButton</span>
        <span class="na" style="color:rgb(0,128,128)">android:id=</span><span class="s" style="color:rgb(221,17,68)">&quot;@&#43;id/btn&quot;</span>
        <span class="na" style="color:rgb(0,128,128)">android:layout_width=</span><span class="s" style="color:rgb(221,17,68)">&quot;wrap_content&quot;</span>
        <span class="na" style="color:rgb(0,128,128)">android:layout_height=</span><span class="s" style="color:rgb(221,17,68)">&quot;wrap_content&quot;</span>
        <span class="na" style="color:rgb(0,128,128)">android:text=</span><span class="s" style="color:rgb(221,17,68)">&quot;button&quot;</span>
        <span class="na" style="color:rgb(0,128,128)">zyh:normal_drawable=</span><span class="s" style="color:rgb(221,17,68)">&quot;@drawable/exam_list_bg_default&quot;</span>
        <span class="na" style="color:rgb(0,128,128)">zyh:pressed_drawable=</span><span class="s" style="color:rgb(221,17,68)">&quot;@drawable/exam_list_bg_pressed&quot;</span> <span class="nt" style="color:rgb(0,0,128)">/&gt;</span>
<span class="nt" style="color:rgb(0,0,128)">&lt;/RelativeLayout&gt;</span>
</pre>
</div>
<h2 style="margin-top:1em; margin-bottom:16px; line-height:1.225; font-size:1.75em; position:relative; padding-bottom:0.3em; border-bottom-width:1px; border-bottom-style:solid; border-bottom-color:rgb(238,238,238); color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif">
<a target="_blank" name="user-content-3-use-in-codejava" class="anchor" href="https://github.com/18236887539/SelectorButton/blob/master/README.md#3-use-in-codejava" style="background-color:transparent; color:rgb(65,131,196); text-decoration:none; position:absolute; top:0px; bottom:0px; left:0px; display:block; padding-right:6px; padding-left:30px; margin-left:-30px"></a>3.
 use in code.java</h2>
<div class="highlight highlight-Java" style="margin-bottom:16px; color:rgb(51,51,51); font-family:'Helvetica Neue',Helvetica,'Segoe UI',Arial,freesans,sans-serif; font-size:16px; line-height:25px">
<pre style="overflow:auto; font-family:Consolas,'Liberation Mono',Menlo,Courier,monospace; font-size:14px; margin-top:0px; margin-bottom:0px; line-height:1.45; padding:16px; background-color:rgb(247,247,247); word-wrap:normal; word-break:normal"><span class="n" style="">SelectorButton</span> <span class="n" style="">mButton</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">findViewById</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">id</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">button</span><span class="o" style="font-weight:bold">);</span>
<span class="n" style="">Drawable</span> <span class="n" style="">normalDrawable</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">getResources</span><span class="o" style="font-weight:bold">().</span><span class="na" style="color:rgb(0,128,128)">getDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">drawable</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">btn_normal</span><span class="o" style="font-weight:bold">);</span>
<span class="n" style="">Drawable</span> <span class="n" style="">pressedDrawable</span> <span class="o" style="font-weight:bold">=</span> <span class="n" style="">getResources</span><span class="o" style="font-weight:bold">().</span><span class="na" style="color:rgb(0,128,128)">getDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">R</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">drawable</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">btn_pressed</span><span class="o" style="font-weight:bold">);</span>
<span class="n" style="">mButton</span><span class="o" style="font-weight:bold">.</span><span class="na" style="color:rgb(0,128,128)">setSelecorDrawable</span><span class="o" style="font-weight:bold">(</span><span class="n" style="">normalDrawable</span><span class="o" style="font-weight:bold">,</span> <span class="n" style="">pressedDrawable</span><span class="o" style="font-weight:bold">);</span></pre>
</div>
<br>
<p><br>
</p>
<p><br>
</p>
<p>源码下载：<a target="_blank" href="https://github.com/18236887539/SelectorButton">https://github.com/18236887539/SelectorButton</a></p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-自定义控件---带边框的圆形图片" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/24/自定义控件---带边框的圆形图片/">自定义控件---带边框的圆形图片</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p>效果：</p>
<p><br>
</p>
<p><img src="http://img.blog.csdn.net/20140924112817531" alt=""></p>
<p><img src="http://img.blog.csdn.net/20140924113012612" alt=""><br>
</p>
<p><br>
</p>
<p><pre name="code" class="java">package com.zyh.cricleimageview;

import android.content.Context;
import android.graphics.Bitmap;
import android.graphics.Canvas;
import android.graphics.Color;
import android.graphics.Matrix;
import android.graphics.Paint;
import android.graphics.Path;
import android.util.AttributeSet;
import android.widget.ImageView;

/**
 * 圆角图片
 * @author zyh
 */
public class CircleImageView extends ImageView {

	public CircleImageView(Context context) {
		super(context);
	}

	public CircleImageView(Context context, AttributeSet attrs) {
		super(context, attrs);
	}

	public CircleImageView(Context context, AttributeSet attrs, int defStyle) {
		super(context, attrs, defStyle);
	}

	private int bWidth = 10;// 边框宽度
	private int bColor = Color.WHITE;// 边框颜色

	/**
	 * 设置圆形图片的边框颜色
	 * @param color
	 */
	public void setBorderColor(int color) {
		bColor = color;
	}

	/**
	 * 设置圆形图片的边框宽度
	 * @param
	 */
	public void setBorderWidth(int width) {
		bWidth = width;
	}

	/**
	 * 设置圆形图片的边框宽度和颜色
	 * @param
	 */
	public void setBorderWidth(int width, int color) {
		bWidth = width;
		bColor = color;
	}

	@Override
	public void setImageBitmap(Bitmap bm) {

		int d = Math.min(bm.getWidth(), bm.getHeight());// 或得圆直径
		Bitmap dest = Bitmap.createBitmap(d, d, bm.getConfig());// 创建一个副本
		// 画边框
		Canvas c = new Canvas(dest);
		Paint paint = new Paint();
		paint.setColor(bColor); // 边框颜色
		paint.setAntiAlias(true);// 设置抗锯齿
		c.drawCircle(d / 2, d / 2, d / 2, paint);
		// 画圆
		Path path = new Path();
		path.addCircle(d / 2, d / 2, d / 2 - bWidth, Path.Direction.CW);
		c.clipPath(path); // 裁剪区域

		Matrix matrix = new Matrix();// 不缩放
		c.drawBitmap(bm, matrix, paint);// 把图画上去
		super.setImageBitmap(dest);
	}

}</pre><br>
<br>
</p>
<p><br>
</p>
<p><br>
</p>
<p>使用&nbsp;</p>
<p><pre name="code" class="java">public class MainActivity extends Activity {

	private CircleImageView iv;

	@Override
	protected void onCreate(Bundle savedInstanceState) {
		super.onCreate(savedInstanceState);
		setContentView(R.layout.activity_main);
		iv = (CircleImageView) findViewById(R.id.iv);
		iv.setBorderWidth(15, Color.BLUE);// 设置边框
		iv.setImageBitmap(BitmapFactory.decodeResource(getResources(), R.drawable.photo)); // 设置图片
	}
}
</pre><br>
<br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-【_简单实现双击，3击，___N击_】Android系统源码" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/15/【_简单实现双击，3击，___N击_】Android系统源码/">【 简单实现双击，3击，...N击 】Android系统源码</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><span style="line-height:28px"><span style="font-size:18px"><span style="font-family:KaiTi_GB2312">主要使用到一个静态方法&nbsp;</span><span style="font-family:Courier New; color:#3333ff"><span style="line-height:28px">System.</span>arraycopy()</span><span style="font-family:KaiTi_GB2312">&nbsp;//实现数组之间的复制。<br>
</span></span></span><span style="font-size:18px"><span style="line-height:28px"><span style="font-family:KaiTi_GB2312">函数原型：</span></span><span style="color:rgb(51,102,255); font-family:'Courier New'; line-height:28px">public static void<strong>arraycopy</strong>(Object
 src, int srcPos, Object dest, int destPos, int length)<br>
</span></span><span style="font-size:18px"><span style="line-height:28px"><span style="font-family:KaiTi_GB2312">src:源数组； &nbsp;&nbsp;</span></span><span style="font-family:KaiTi_GB2312; line-height:28px">srcPos:源数组要复制的起始位置；&nbsp;<br>
</span></span><span style="font-size:18px"><span style="line-height:28px"><span style="font-family:KaiTi_GB2312">dest:目的数组；</span></span><span style="line-height:28px"><span style="font-family:KaiTi_GB2312">d</span></span><span style="font-family:KaiTi_GB2312; line-height:28px">estPos:目的数组放置的起始位置；&nbsp;<br>
</span></span><span style="font-family:KaiTi_GB2312; line-height:28px"><span style="font-size:18px">length:复制的长度。<br>
</span></span><span style="font-family:KaiTi_GB2312; line-height:28px"><span style="font-size:18px">注意：src与dest都必须是同类型或者可以进行转换类型的数组．&nbsp;<br>
</span></span><span style="font-family:KaiTi_GB2312; line-height:28px"><span style="font-size:18px">这个函数可以实现自己到自己复制，比如：&nbsp;<br>
</span></span><span style="line-height:28px"><span style="font-family:Courier New; font-size:18px">int[] fun ={0,1,2,3,4,5,6};&nbsp;<br>
</span></span><span style="line-height:28px"><span style="font-family:Courier New; font-size:18px">System.arraycopy(fun,0,fun,3,3);&nbsp;<br>
</span></span><span style="font-size:18px"><span style="font-family:KaiTi_GB2312; line-height:28px">则结果为：</span><span style="line-height:28px"><span style="font-family:Courier New">{0,1,2,0,1,2,6};&nbsp;<br>
</span></span></span><span style="font-family:KaiTi_GB2312; line-height:28px"><span style="font-size:18px">实现过程是这样的，先生成一个长度为length的临时数组,将fun数组中srcPos 到srcPos&#43;length-1之间的数据拷贝到临时数组中，再执行System.arraycopy(临时数组,0,fun,3,3).<br>
</span></span><span style="font-family:KaiTi_GB2312; line-height:28px"><span style="font-size:18px">利用一个 数组的复制来简单实现 判断快速双击 3击...</span></span></p>
<p><pre code_snippet_id="469289" snippet_file_name="blog_20140915_1_4325769" name="code" class="java">public class CommentUtils {
	private static long[] mHits = new long[2]; // 五次点击改成5

	/**
	 * 判断是否双击
	 * @param t 双击间隔
	 */
	public static boolean isFastDoubleClick(long t) {
		System.arraycopy(mHits, 1, mHits, 0, mHits.length - 1);
		mHits[mHits.length - 1] = SystemClock.uptimeMillis();
		return SystemClock.uptimeMillis() - mHits[0] &gt;= t;
	}
}</pre><br>
<br>
</p>
<p></p>
<p></p>
<p>Android 中n击</p>
<p></p>
<pre code_snippet_id="469289" snippet_file_name="blog_20140915_2_9148788" name="code" class="java">long[] mHits = new long[4]; // 五次点击改成5

	public void click(View view) {
		System.arraycopy(mHits, 1, mHits, 0, mHits.length - 1);
		mHits[mHits.length - 1] = SystemClock.uptimeMillis();
		if (mHits[0] &gt;= SystemClock.uptimeMillis() - 500) {
			Toast.makeText(this, &quot;你点击了4次&quot;, Toast.LENGTH_SHORT).show();
		}
	}</pre>
<p></p>
<p><span style="font-family:KaiTi_GB2312; font-size:24px"><br>
</span></p>
<span style="font-family:KaiTi_GB2312; font-size:24px">还可利用该功能实现表单重复提交，一段时间内不允许TODO</span><br>
<br>
<p></p>
<pre></pre>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-Java对象的序列化与反序列化" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/12/Java对象的序列化与反序列化/">Java对象的序列化与反序列化</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><span style="font-size:24px"><br>
</span></p>
<p><span style="font-size:24px">1. 对象需要实现&nbsp;Serializable接口（并且该对象的成员也需要implements Serializable）</span></p>
<p><br>
</p>
<p><pre name="code" class="java">
import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.io.ObjectInputStream;
import java.io.ObjectOutputStream;

import com.zyh.jwc.domain.CachePicItem;

/**
 * 操作java对象序列化
 */
public class MyObjectUtils {

	public static void setObjectToDisk(CachePicItem object, File file) {
		System.out.println(object.getList().toString());
		try {
			FileOutputStream fos = new FileOutputStream(file);
			ObjectOutputStream oos = new ObjectOutputStream(fos);
			oos.writeObject(object);
			oos.close();
		} catch (Exception ex) {
			ex.printStackTrace();
		}
	}

	public static CachePicItem getObjectFromDisk(File file) {
		CachePicItem object = new CachePicItem();
		try {
			FileInputStream fis = new FileInputStream(file);
			ObjectInputStream ois = new ObjectInputStream(fis);
			object = (CachePicItem) ois.readObject();
			ois.close();
			System.out.println(object.getList().toString());
			return object;
		} catch (Exception ex) {
			ex.printStackTrace();
			return null;
		}
	}
}
</pre><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-小记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/09/12/小记/">小记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<pre style="text-align:justify"><span style="font-family:KaiTi_GB2312; font-size:32px">&nbsp; &nbsp; </span><span style="font-family:Microsoft YaHei; font-size:18px; color:#666666"><img alt="奋斗" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/struggle.gif">大四开学，这段时间没有来记录自己的学习进度，真是遗憾，今天写代码，发现以前的基础知识都不会，这今天开始，遇到的问题要开始总结了.&nbsp;前两天收到招聘邮件，待遇不错，又看了看要求的条件，感觉还是需要再努力努力的，同学有的去培训，有的考研复习，不知道哪一个才是我想要的，没有自己的目标，想想自己上大学之前自己的下的决心，现在只能是叹息，还是提升自己的实力吧......<img alt="奋斗" src="http://static.blog.csdn.net/xheditor/xheditor_emot/default/struggle.gif"></span></pre>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-c_c___时间相关函数_include_time_h_" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/16/c_c___时间相关函数_include_time_h_/">c\c++ 时间相关函数 include&lt;time.h&gt;</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><br>
</p>
<p><br>
</p>
<p></p>
<pre name="code" class="cpp">#include &lt;cstdio&gt;
#include &lt;iostream&gt;
#include &lt;ctime&gt;
using namespace std;

int main()
{
	clock_t start,end;?/clock_t 与 time_t 都是 long 型的
	long i = 10000000L;
	
	start = clock();
	while(i--);
	end = clock();
	printf(&quot;time = %lf\n&quot;,(double)(end-start)/1000.0);
	//time = 0.024000
	
	time_t t = time(NULL);
	printf(&quot;Calender time is: %ld ms,the distance of 1700-1-1 days = %d\n&quot;,t,t/60/60/24);
	//Calender time is: 1394952675 ms,the distance of 1700-1-1 days = 16145
	
	tm * lt;	
	lt = gmtime(&amp;t);
	printf(&quot;current time is :%04d %02d %02d , %02d:%02d:%02d\n&quot;,lt-&gt;tm_year+1900,lt-&gt;tm_mon+1,lt-&gt;tm_mday,
	lt-&gt;tm_hour,lt-&gt;tm_min,lt-&gt;tm_sec);

	lt = localtime(&amp;t);
	printf(&quot;current time is :%04d %02d %02d , %02d:%02d:%02d\n&quot;,lt-&gt;tm_year+1900,lt-&gt;tm_mon+1,lt-&gt;tm_mday,
	lt-&gt;tm_hour,lt-&gt;tm_min,lt-&gt;tm_sec);
	//current time is :2014 03 16 , 06:51:15
	//current time is :2014 03 16 , 14:51:15
	
	printf(&quot;%s&quot;,asctime(lt)); //自动有换行 
	printf(&quot;%s&quot;,ctime(&amp;t));
	//Sun Mar 16 14:52:18 2014
	//Sun Mar 16 14:52:18 2014
	
	char str[80];
	strftime(str,100,&quot;%Y %B %d %A %H:%M:%S&quot;,lt);
	printf(&quot;%s\n&quot;,str);
	//2014 March 16 Sunday 14:52:18
	
	 
	struct tm t2;
	t2.tm_year = 2014-1900;
	t2.tm_mon = 2;
	t2.tm_mday = 16;
	t2.tm_hour = 11;
	t2.tm_min = 14;
	t2.tm_sec = 0;
	time_t tt2 = mktime(&amp;t2);
	printf(&quot;t2=%ld\n&quot;,ctime(&amp;tt2));
	printf(&quot;%s\n&quot;,ctime(&amp;tt2));
	//t2=3280808
	//Sun Mar 16 11:14:00 2014
	return 0;
}</pre><br>
<br>
<p></p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-动态规划-矩阵连乘" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/03/04/动态规划-矩阵连乘/">动态规划-矩阵连乘</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><span style="font-size:24px">特征：计算<span style="color:#ff0000">A[i:j]的最优次序</span>所包含的计算矩阵子链<span style="color:#ff0000"> A[i:k]和A[k&#43;1:j]的次序也是最优的</span>。<br>
</span></p>
<p><img src="http://img.blog.csdn.net/20140304203120937" width="564" height="436" alt=""></p>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><span style="font-size:24px">如计算 A1*A2*A3*A4*A5*A6</span></p>
<p><img src="http://img.blog.csdn.net/20140304201607390" alt=""></p>
<p>&nbsp;</p>
<p><img src="http://img.blog.csdn.net/20140304202903750" alt=""></p>
<p>&nbsp;</p>
<pre code_snippet_id="217450" snippet_file_name="blog_20140304_1_2568125" class="cpp" name="code">/**
int [] p 存放各个矩阵的列 
int [][] m  所需要的最少数乘次数m[i,j] 1≤i≤j≤n, 最后乘法次数为 m[1][n]; 
int [][] s  s[i][j]:存放的值为相对于m[i][j] 的断开位置 
*/
void matrixChain(int [] p, int [][] m, int [][] s)
{
	
      for (int i = 1; i &lt;= n; i++) m[i][i] = 0; //自身相乘，次数为0 
      
	  for (int r = 2; r &lt;= n; r++) //先计算2个矩阵相乘次数，然后3个，4个... 
      
         for (int i = 1; i &lt;= n-r+1; i++) { //  
            int j=i+r-1; //当前矩阵总个数 
            m[i][j] = m[i+1][j]+ p[i-1]*p[i]*p[j]; //m[i][j]初始化为 从i分割 ，实际还加了m[i][i],为0 
            s[i][j] = i; //从i分割 
            for (int k = i+1; k &lt; j; k++) { //枚举每个位置 为分割点 
               int t = m[i][k] + m[k+1][j] + p[i-1]*p[k]*p[j];
               if (t &lt; m[i][j]) {
                 m[i][j] = t;
                 s[i][j] = k;}
               }
            }
   }</pre>
<p><br>
&nbsp;</p>
<p>&nbsp;</p>
<p>下面这种方法在 书上叫 备忘录 ；</p>
<p>这种方法是自顶向下的</p>
<p>&nbsp;</p>
<pre code_snippet_id="217450" snippet_file_name="blog_20140304_2_343278" class="cpp" name="code">int lookupChain(int i,int j){
	
	if(m[i][j]&gt;0) return m[i][j];
	if(i==j) return 0;
	m[i][j] = lookupChain(i+1,j) + p[i-1]*p[i]*p[j];
	for(int k=i+1; k&lt;j; k++){
		int t = lookupChain(i,k) + lookupChain(k+1,j) + p[i-1]*p[k]*p[j]; 
		if(t&lt;m[i][j]) m[i][j] = t;
	}
	return m[i][j];
}</pre>
<p><br>
&nbsp;</p>
<p>&nbsp;</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-基本数据类型的运算" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/25/基本数据类型的运算/">基本数据类型的运算</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p><br>
</p>
<p><pre code_snippet_id="205043" snippet_file_name="blog_20140225_1_6730786" name="code" class="cpp">#include &lt;iostream &gt;
#include &lt;cstdio&gt;
using namespace std;
void test_int()
{
	printf(&quot;\ntest int:\n&quot;);
	int a = 100000;
	cout &lt;&lt; &quot;100000 * 100000 = &quot; &lt;&lt; a * a &lt;&lt; endl;
	cout &lt;&lt; &quot; 14  / 5  = &quot; &lt;&lt; 14 / 5 &lt;&lt; endl;
	cout &lt;&lt; &quot; 14  % 5  = &quot; &lt;&lt; 14 % 5 &lt;&lt; endl;
	cout &lt;&lt; &quot; -14 / 5  = &quot; &lt;&lt; -14 / 5 &lt;&lt; endl;
	cout &lt;&lt; &quot; -14 % 5  = &quot; &lt;&lt; -14 % 5 &lt;&lt; endl;
	cout &lt;&lt; &quot; 14  / -5 = &quot; &lt;&lt; 14 / -5 &lt;&lt; endl;
	cout &lt;&lt; &quot; 14  % -5 = &quot; &lt;&lt; 14 % -5 &lt;&lt; endl;
	cout &lt;&lt; &quot; -14 / -5 = &quot; &lt;&lt; -14 / -5 &lt;&lt; endl;
	cout &lt;&lt; &quot; -14 % -5 = &quot; &lt;&lt; -14 % -5 &lt;&lt; endl;
}
void test_double()
{
	printf(&quot;\ntest double:\n&quot;);
	double c, d, z;
	c = 1.0; d = 0.0;
	cout &lt;&lt; &quot; 1.0  / 0.0 = &quot; &lt;&lt; c/d &lt;&lt; endl;
	c = -1.0; d = 0.0;
	cout &lt;&lt; &quot; -1.0 / 0.0 = &quot; &lt;&lt; c/d &lt;&lt; endl;
	c = 0.0; d = 0.0;
	cout &lt;&lt; &quot; 0.0  / 0.0 = &quot; &lt;&lt; c/d &lt;&lt; endl;
	z = 1.0;
	cout &lt;&lt; &quot; z = 1.0; z = &quot; &lt;&lt; z &lt;&lt; endl;
	z /= 12345678912345.0;
	
	cout &lt;&lt; &quot; z /= 12345678912345.0; z = &quot; &lt;&lt; z &lt;&lt; endl;
	z += 1.0;
	cout &lt;&lt; &quot; z += 1.0; z = &quot; &lt;&lt; z &lt;&lt; endl;
	z -= 1.0;
	cout &lt;&lt; &quot; z -= 1.0; z = &quot; &lt;&lt; z &lt;&lt; endl;
	z *= 12345678912345.0;
	cout &lt;&lt; &quot; z *= 12345678912345.0; z == &quot; &lt;&lt; z &lt;&lt; endl;
}
void test_bool()
{
	printf(&quot;\ntest bool:\n&quot;);
	cout &lt;&lt; &quot;(1 &lt;= 2) = &quot; &lt;&lt; (1 &lt;= 2) &lt;&lt; endl;
	cout &lt;&lt; &quot;(3 == 4) = &quot; &lt;&lt; (3 == 4) &lt;&lt; endl;
	cout &lt;&lt; &quot;(5 != 6 &amp;&amp; -7 &lt;= 10) = &quot; &lt;&lt; (5 != 6 &amp;&amp; -7 &lt;= 10) &lt;&lt; endl;
	cout &lt;&lt; &quot;(1234 &amp; 5678) = &quot; &lt;&lt; (1234 &amp; 5678) &lt;&lt; endl;
	cout &lt;&lt; &quot;(1 &lt;&lt; 16) = &quot; &lt;&lt; (1 &lt;&lt; 16) &lt;&lt; endl;
}
void test_order()
{
	printf(&quot;\ntest order:\n&quot;);
	int a = 2, b = 3;
	cout &lt;&lt; &quot;(a++) * (a+2*b) * (b++) = &quot; &lt;&lt; (a++) * (a+2*b) * (b++) &lt;&lt; endl;
}
void test_char()
{
	printf(&quot;\ntest char:\n&quot;);
	cout &lt;&lt; &quot;'A ' + 2 = &quot; &lt;&lt; 'A' + 2 &lt;&lt; endl;
	cout &lt;&lt; &quot;(char)('A ' + 2) = &quot; &lt;&lt; (char)('A' + 2) &lt;&lt; endl;
	cout &lt;&lt; &quot;'z' - 'f' = &quot; &lt;&lt; 'z' - 'f' &lt;&lt; endl;
}
int main()
{
	test_int();
	test_double();
	test_bool();
	test_char();
	test_order();
	
	return 0;
}

/*

test int:
100000 * 100000 = 1410065408
 14  / 5  = 2
 14  % 5  = 4
 -14 / 5  = -2
 -14 % 5  = -4
 14  / -5 = -2
 14  % -5 = 4
 -14 / -5 = 2
 -14 % -5 = -4

test double:
 1.0  / 0.0 = inf
 -1.0 / 0.0 = -inf
 0.0  / 0.0 = nan
 z = 1.0; z = 1
 z /= 12345678912345.0; z = 8.1e-014
 z += 1.0; z = 1
 z -= 1.0; z = 8.10463e-014
 z *= 12345678912345.0; z == 1.00057

test bool:
(1 &lt;= 2) = 1
(3 == 4) = 0
(5 != 6 &amp;&amp; -7 &lt;= 10) = 1
(1234 &amp; 5678) = 1026
(1 &lt;&lt; 16) = 65536

test char:
'A ' + 2 = 67
(char)('A ' + 2) = C
'z' - 'f' = 20

test order:
(a++) * (a+2*b) * (b++) = 48

*/</pre><br>
<br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-大数类" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/24/大数类/">大数类</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<p>大数类</p>
<p><pre code_snippet_id="203052" snippet_file_name="blog_20140224_1_1738053" name="code" class="cpp">#include &lt;iostream&gt;
#include &lt;cstdio&gt;
#include &lt;cstring&gt; 

using namespace std;

const int maxn = 1000;

struct Bign{
	
	int len;  //有效长度 
	int s[maxn]; //存放大数
	
	//构造函数 ，变量初始化 
	Bign(){ memset(s,0,sizeof(s));len = 1;} 
	
	//重载赋值操作，可以直接用 x = &quot;123456789034&quot; 的方式来为x赋值  
	//将字符串逆序存储在 int s[]内 
	Bign operator = (const char * num){
		len = strlen(num);
		for(int i=0;i&lt;len; i++) s[i] = num[len-i-1] - '0';
		return *this;
	}
	
	Bign operator = (int num){
		char s[maxn];
		sprintf(s, &quot;%d&quot;, num);
		*this = s;
		return *this;
	}
	
	Bign(int num){ *this = num; }
	Bign(const char* num){ *this = num; }
	
	string toString() const{
		string str = &quot;&quot;;
		for(int i=len-1; i&gt;=0; i--) str += (char)(s[i]+'0');
		return str;
	}
	
	Bign operator + (const Bign &amp;b ) const {
		Bign c; c.len = 0;
		int i,carry,maxl = max(len,b.len);
		for( i =carry =0; i&lt;maxl; i++){
			int tmp = s[i] + b.s[i] + carry;
			c.s[c.len++] = tmp % 10;
			carry = tmp / 10;
		}
		while(i&lt;len)  c.s[c.len++] += s[i++];  
		while(i&lt;b.len)  c.s[c.len++] += b.s[i++]; 
		return c;
	} 
	
	//去除数组中多余的0 
	void clear() {
		while(len&gt;1 &amp;&amp; !s[len-1])len--; 
	} 
	
	Bign operator * (const Bign &amp;b) const {
		Bign c; c.len = len + b.len;
		//对于a的每一位 用 b的每一位去成一遍 
		for(int i=0; i&lt;len; i++) 
			for(int j=0; j&lt;b.len; j++)
				c.s[i+j] += s[i] * b.s[j];
		//处理进位 
		for(int i=0; i&lt;c.len-1; i++){
			c.s[i+1] += c.s[i] / 10;
			c.s[i] %= 10;
		}
		//去除多余0，更正c.len 
		c.clear();
		return c;		
	}
	
	friend istream &amp;operator &gt;&gt; (istream &amp;in, Bign &amp;n) {
		string s;
		in &gt;&gt; s;
		n = s.c_str();
		return in;
	} 
	
	friend ostream &amp;operator &lt;&lt; (ostream &amp;out, const Bign &amp;n) {
		out &lt;&lt; n.toString();
		return out;
	}
		
};


int main ()
{
	
	Bign n1;
	n1 = &quot;23784589493050034059009342324324&quot;;
	cout &lt;&lt; &quot; n1 = &quot; &lt;&lt; n1 &lt;&lt; endl; // n1 = 23784589493050034059009342324324
	
	Bign n2; 
	n2 = 1234567890;
	cout &lt;&lt; &quot; n2 = &quot; &lt;&lt; n2 &lt;&lt; endl; // n2 = 1234567890
	
	Bign n3(&quot;9787827383654329&quot;); 
	cout &lt;&lt; &quot; n3 = &quot; &lt;&lt; n3 &lt;&lt; endl; // n3 = 9787827383654329
	
	Bign n4(827383654); 
	cout &lt;&lt; &quot; n4 = &quot; &lt;&lt; n4 &lt;&lt; endl; // n3 = 827383654
	
	Bign n5 = &quot;78398249420049293949589999999&quot;;
	Bign n6 = &quot;1344234769898495120000001&quot;; 
	cout &lt;&lt; &quot; n5 + n6 = &quot; &lt;&lt; (n5+n6) &lt;&lt; endl; // n5 + n6 = 78399593654819192444710000000

	Bign n7 = &quot;7293949589999999&quot;;
	Bign n8 = &quot;14769896431116&quot;; 
	cout &lt;&lt; &quot; n7 * n8 = &quot; &lt;&lt; (n7*n8) &lt;&lt; endl; // n7 * n8 = 107730880018080996672543568884
											
	 
}</pre><br>
<br>
</p>
<p><br>
</p>
<p><br>
</p>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-NYOJ-题目27&amp;nbsp;水池数目" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/19/NYOJ-题目27&nbsp;水池数目/">NYOJ-题目27&amp;nbsp;水池数目</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<div id="sina_keyword_ad_area2" class="articalContent  ">
			<a href="http://acm.nyist.net/JudgeOnline/problem.php?pid=27" target="_blank">http://acm.nyist.net/JudgeOnline/problem.php?pid=27</a>
<div><br></div>
<div><br></div>
<div>程序代码（一）：时间 8 内存 272</div>
<div>
<div>&nbsp;<wbr></div>
<div><font color="#214EDA">#include</font></div>
<div><font color="#214EDA">#define N 102</font></div>
<div><font color="#214EDA">#define M 102</font></div>
<div><font color="#214EDA">int map[N][M] = {0};</font></div>
<div><font color="#214EDA">void search(int i,int j)</font>
//递归调用，将是 1 的 连续地方 全部 变为 0</div>
<div><font color="#214EDA">{ &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">if(map[i][j-1]) { map[i][j-1]=0;
search(i,j-1); }&nbsp;<wbr></font></div>
<div><font color="#214EDA">if(map[i][j+1]) { map[i][j+1]=0;
search(i,j+1); } &nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">if(map[i-1][j]) { map[i-1][j]=0;
search(i-1,j); } &nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">if(map[i+1][j]) { map[i+1][j]=0;
search(i+1,j); }</font></div>
<div><font color="#214EDA">}</font></div>
<div><font color="#214EDA">int main()</font></div>
<div><font color="#214EDA">{ &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">int t,n,m; &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">int i,j,count; &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">scanf("%d",&amp;t);
&nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">while(t--) &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">{ &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">scanf("%d
%d",&amp;n,&amp;m);&nbsp;<wbr></font></div>
<div><font color="#214EDA">count=0; &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">for(i=1;i&lt;=n;i++)
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">for(j=1;j&lt;=m;j++)
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">scanf("%d",&amp;map[i][j]);
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">for(i=1;i&lt;=n;i++)
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr></font></div>
<div><font color="#214EDA">for(j=1;j&lt;=m;j++)
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">if(map[i][j])
&nbsp;<wbr>&nbsp;<wbr></font></div>
<div><font color="#214EDA">{&nbsp;<wbr></font></div>
<div><font color="#214EDA">count++;&nbsp;<wbr></font></div>
<div><font color="#214EDA">map[i][j]=0;&nbsp;<wbr></font></div>
<div><font color="#214EDA">search(i,j);&nbsp;<wbr></font></div>
<div><font color="#214EDA">} &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr></font></div>
<div><font color="#214EDA">printf("%d\n",count);
&nbsp;<wbr>&nbsp;<wbr></font></div>
<div><font color="#214EDA">}
&nbsp;<wbr>&nbsp;<wbr></font></div>
<div><font color="#214EDA">return 0;</font></div>
<div><font color="#214EDA">} &nbsp;<wbr>
&nbsp;<wbr></font> <font color="#4D6DF3">&nbsp;<wbr>
&nbsp;<wbr></font></div>
</div>
<div><font color="#4D6DF3"><br></font></div>
<div><span style="line-height: 21px;">程序代码（二）：时间 4 内存
308</span></div>
<div>
<div><span style="line-height: 21px;">&nbsp;<wbr></span></div>
<div>&nbsp;<wbr></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">#include</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">#include</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#FE2302">int
map[100][100],vis[100][100];
//这里定义两个数组同时搜索，时间少，但消耗内存大</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">int
n,m;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">void
dfs(int i,int j)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">vis[i][j]=1;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">if(map[i-1][j]&amp;&amp;!vis[i-1][j])</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">vis[i-1][j]=1;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">dfs(i-1,j);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">if(map[i+1][j]&amp;&amp;!vis[i+1][j])</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">vis[i+1][j]=1;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">dfs(i+1,j);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">if(map[i][j-1]&amp;&amp;!vis[i][j-1])</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">vis[i][j-1]=1;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">dfs(i,j-1);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">if(map[i][j+1]&amp;&amp;!vis[i][j+1])</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">vis[i][j+1]=1;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">dfs(i,j+1);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">int
main()</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">int
i,j,sum,t;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">scanf("%d",&amp;t);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">while(t--)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">scanf("%d%d",&amp;m,&amp;n);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">memset(vis,0,sizeof(vis));</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">memset(map,0,sizeof(map));</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">for(i=1;i&lt;=m;i++)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">for(j=1;j&lt;=n;j++)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">scanf("%d",&amp;map[i][j]);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">sum=0;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">for(i=1;i&lt;=m;i++)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">for(j=1;j&lt;=n;j++)</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">if(!vis[i][j]&amp;&amp;map[i][j])</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">{</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">sum++;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">dfs(i,j);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">printf("%d\n",sum);</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">return 0;</font></span></div>
<div><span style="background-color: rgb(255, 255, 255);"><font color="#00B7EF">}</font></span> &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr> &nbsp;<wbr></div>
</div>
<div><font color="#4D6DF3"><br></font></div>
<div><span style="line-height: 21px;">程序代码（三）：时间 0 内存
248</span></div>
<div><span style="line-height: 21px;"><br></span></div>
<div>
<div><span style="line-height: 21px;">&nbsp;<wbr></span></div>
<div><font color="#FD2200">#include</font></div>
<div><font color="#FD2200">#include</font></div>
<div><font color="#0E01FF">char</font> <font color="#FD2200">map[100][100],vis[100][100];</font><font color="#070AFE">//这里把数组定义成字符型数组，来存放整型数，减少了内现存和时间</font></div>
<div><font color="#FD2200">int n,m;</font></div>
<div><font color="#FD2200">void dfs(int i,int j)</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">vis[i][j]=1;</font></div>
<div><font color="#FD2200">if(map[i-1][j]&amp;&amp;!vis[i-1][j])</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">vis[i-1][j]=1;</font></div>
<div><font color="#FD2200">dfs(i-1,j);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">if(map[i+1][j]&amp;&amp;!vis[i+1][j])</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">vis[i+1][j]=1;</font></div>
<div><font color="#FD2200">dfs(i+1,j);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">if(map[i][j-1]&amp;&amp;!vis[i][j-1])</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">vis[i][j-1]=1;</font></div>
<div><font color="#FD2200">dfs(i,j-1);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">if(map[i][j+1]&amp;&amp;!vis[i][j+1])</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">vis[i][j+1]=1;</font></div>
<div><font color="#FD2200">dfs(i,j+1);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">int main()</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">int i,j,sum,t;</font></div>
<div><font color="#FD2200">scanf("%d",&amp;t);</font></div>
<div><font color="#FD2200">while(t--)</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">scanf("%d%d",&amp;m,&amp;n);</font></div>
<div><font color="#FD2200">memset(vis,0,sizeof(vis));</font></div>
<div><font color="#FD2200">memset(map,0,sizeof(map));</font></div>
<div><font color="#FD2200">for(i=1;i&lt;=m;i++)</font></div>
<div><font color="#FD2200">for(j=1;j&lt;=n;j++)</font></div>
<div><font color="#FD2200">scanf("%d",&amp;map[i][j]);</font></div>
<div><font color="#FD2200">sum=0;</font></div>
<div><font color="#FD2200">for(i=1;i&lt;=m;i++)</font></div>
<div><font color="#FD2200">for(j=1;j&lt;=n;j++)</font></div>
<div><font color="#FD2200">if(!vis[i][j]&amp;&amp;map[i][j])</font></div>
<div><font color="#FD2200">{</font></div>
<div><font color="#FD2200">sum++;</font></div>
<div><font color="#FD2200">dfs(i,j);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">printf("%d\n",sum);</font></div>
<div><font color="#FD2200">}</font></div>
<div><font color="#FD2200">return 0;</font></div>
<div><font color="#FD2200">} &nbsp;<wbr> &nbsp;<wbr>
&nbsp;<wbr></font> &nbsp;<wbr></div>
</div>							
		</div>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  
    <article id="post-汇编习题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/02/19/汇编习题/">汇编习题</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
<div id="sina_keyword_ad_area2" class="articalContent  ">
			<div class="blogzz_abstract borderc" style="padding-top:15px;margin:20px 0; border:none; border-top:1px dotted #ccc;"><div class="blogzz_ainfo" style="margin-bottom:12px;"><span style="margin-right:25px;"><strong>原文地址：</strong><a target="_blank" href="http://blog.sina.com.cn/s/blog_606ca48e0100dps0.html" title="汇编习题">汇编习题</a></span><span><strong>作者：</strong><a href="http://blog.sina.com.cn/u/1617732750" title="依然" target="_blank">依然</a></span></div><div class="blogzz_acon"><p><b>一</b><b>.</b><b>选择题</b></p>
<p>
<b>1</b><b>、通常说计算机的内存为</b><b>32M</b><b>、</b><b>64M</b><b>或</b><b>128M</b><b>指的是：（c）</b><b><br>

A.RAM</b><b>的容量</b><b>&nbsp;<wbr>
B.ROM</b><b>的容量</b><b>&nbsp;<wbr>
C.RAM</b><b>和</b><b>ROM</b><b>的容量</b><b>&nbsp;<wbr></b>
<b>D.</b><b>硬盘的容量</b><b>&nbsp;<wbr>&nbsp;<wbr><br>
2.</b><b>汇编语言的优点不包括</b><b>__d___</b><b>。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A</b><b>直接有效地控制硬件</b><b>&nbsp;<wbr>
B</b><b>生成的代码序列短小</b></p>
<p>
<b>C</b><b>运行速度快</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D&nbsp;<wbr>&nbsp;<wbr></b> <b>编程容易</b></p>
<p><b>3</b>
<b>十六进制数</b><b>88H</b><b>，可表示成下面几种形式，请找出错误的表示（d</b><b>&nbsp;<wbr>&nbsp;<wbr></b>
<b>）。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>
A.</b><b>无符号十进制数</b><b>136&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B.</b><b>带符号十进制数－</b><b>120&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>C.</b><b>压缩型</b><b>BCD</b><b>码十进制数</b><b>88&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>D.&nbsp;<wbr>&nbsp;<wbr>
8</b><b>位二进制数－</b><b>8</b><b>的补码表示</b></p>
<p><b>4</b>
<b>下列寄存器组中在段内寻址时可以提供偏移地址的寄存器组是</b><b>(b&nbsp;<wbr>&nbsp;<wbr>
)&nbsp;<wbr><br>
A</b><b>、</b><b>AX</b><b>，</b><b>BX</b><b>，</b><b>CX</b><b>，</b><b>DX&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B</b><b>、</b><b>BX</b><b>，</b><b>BP</b><b>，</b><b>SI</b><b>，</b><b>DI</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>C</b><b>、</b><b>SP</b><b>，</b><b>IP</b><b>，</b><b>BP</b><b>，</b><b>DX&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D</b><b>、</b><b>CS</b><b>，</b><b>DS</b><b>，</b><b>ES</b><b>，</b><b>SS&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

5</b><b>可用作寄存器间接寻址或基址、变址寻址的地址寄存器，正确的是（</b><b>&nbsp;<wbr>d&nbsp;<wbr></b>
<b>）。</b><b><br>
A.AX</b><b>，</b><b>BX</b><b>，</b><b>CX</b><b>，</b><b>DX&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B.DS</b><b>，</b><b>ES</b><b>，</b><b>CS</b><b>，</b><b>SS&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>C.SP</b><b>，</b><b>BP</b><b>，</b><b>IP</b><b>，</b><b>BX&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>D.SI</b><b>，</b><b>DI</b><b>，</b><b>BP</b><b>，</b><b>BX</b></p>
<p>
<b>6.</b><b>当运行结果为</b><b>0</b><b>时，</b><b>ZF</b><b>＝</b><b>____b______</b><b>。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A
&nbsp;<wbr>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C</b> <b>任意</b><b>&nbsp;<wbr>&nbsp;<wbr> D</b>
<b>不影响</b><b>&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>7</b><b>某次求和结果最高位为</b><b>1</b><b>，则</b><b>SF</b><b>＝</b><b>____b______</b><b>。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A&nbsp;<wbr> 0&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>B&nbsp;<wbr>&nbsp;<wbr>
1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C</b>
<b>任意</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D</b><b>不影响</b></p>
<p>
<b>8</b><b>设</b><b>DS</b><b>＝</b><b>5788H</b><b>，偏移地址为</b><b>94H</b><b>，该字节的物理地址</b><b>_____c________</b><b>。</b><b><br>

A 57974H&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> B
5883H&nbsp;<wbr> &nbsp;<wbr>C&nbsp;<wbr>
57914H&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D&nbsp;<wbr> 58ECH</b></p>
<p><b>9. “MOV&nbsp;<wbr>&nbsp;<wbr>
AX,[BP+DI]”</b><b>指令从</b><b>_____b_____</b><b>段取出数据送</b><b>AX</b><b>。</b><b><br>

A
CS&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B SS&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>C
DS&nbsp;<wbr>&nbsp;<wbr> D ES</b></p>
<p>
<b>10.</b><b>下面不能用于寄存器寻址的寄存器有（</b><b>&nbsp;<wbr>c&nbsp;<wbr></b>
<b>）</b><b>&nbsp;<wbr>&nbsp;<wbr><br>
A. CS&nbsp;<wbr>&nbsp;<wbr> B. AX&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>C
IP&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>D
SI&nbsp;<wbr>&nbsp;<wbr> E.
CL&nbsp;<wbr>&nbsp;<wbr> F. SP</b></p>
<p><b>11</b><b>存储器寻址方式在指令中给出操作数在内存中的地址，该地址是（c）</b><b><br>
A</b>
<b>逻辑地址</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B.</b><b>有效地址</b><b>&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>C</b><b>偏移地址</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D.</b><b>物理地址</b><b>&nbsp;<wbr> E.</b><b>段地址</b></p>
<p>
<b>12.</b><b>堆栈的操作原则是</b><b>________b_____</b><b>。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A</b><b>先进先出</b><b>&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B</b><b>后进先出</b><b>&nbsp;<wbr>&nbsp;<wbr>
C</b><b>后进后出</b><b>&nbsp;<wbr>&nbsp;<wbr>
D</b><b>循环</b><b><br>
13 “MOV SP,3210H”</b><b>和</b><b>“PUSH
AX”</b><b>指令执行后，</b><b>SP</b><b>寄存器值是</b><b>_c___</b><b>。</b><b><br>

A&nbsp;<wbr> 3211H&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>B 320EH&nbsp;<wbr> C
320FH&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D
3212H&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

14</b><b>假设当前</b><b>SP</b><b>＝</b><b>700H</b><b>，执行</b><b>pop&nbsp;<wbr>&nbsp;<wbr>
ax</b><b>指令后，</b><b>SP</b><b>内容变为</b><b>__d___<br>
A&nbsp;<wbr>
6FEH&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> B
6FFH&nbsp;<wbr>&nbsp;<wbr> C&nbsp;<wbr>
701H&nbsp;<wbr>&nbsp;<wbr> D 702H</b></p>
<p>
<b>15</b><b>用一条指令实现将</b><b>AX←BX+SI</b><b>的方法是</b><b>__d____&nbsp;<wbr>&nbsp;<wbr><br>

A XCHG&nbsp;<wbr>&nbsp;<wbr>
AX,[BX][SI]&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B
MOV&nbsp;<wbr>&nbsp;<wbr>
AX,[BX][SI]&nbsp;<wbr>&nbsp;<wbr></b></p>
<p><b>C&nbsp;<wbr> MOV&nbsp;<wbr>
AX,[BX+SI]&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>D
LEA&nbsp;<wbr>&nbsp;<wbr>
AX,[BX][SI]&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>16.</b><b>设</b><b>AX</b><b>＝</b><b>1000H</b><b>，</b><b>BX</b><b>＝</b><b>2000H</b><b>，则在执行了指令</b><b>“SUB
AX, BX”</b><b>后，</b></p>
<p>
<b>标志位</b><b>CF</b><b>和</b><b>ZF</b><b>的值分别为</b><b>________c_____</b><b>。</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A
0</b><b>，</b><b>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B&nbsp;<wbr>
0</b><b>，</b><b>1&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>C
1</b><b>，</b><b>0&nbsp;<wbr>&nbsp;<wbr></b>
<b>&nbsp;<wbr>&nbsp;<wbr>D1</b><b>，</b><b>1&nbsp;<wbr>&nbsp;<wbr></b></p>
<p>
<b>17.</b><b>设</b><b>DH=10H</b><b>，执行</b><b>NEG&nbsp;<wbr>&nbsp;<wbr>
DH</b><b>指令后，正确的结果是</b><b>(&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>d&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
)</b><b>。</b><b><br>
A.DH=10H CF=1&nbsp;<wbr> B.DH=0F0H CF=0</b></p>
<p><b>C.DH=10H CF=0 &nbsp;<wbr>D.DH=0F0H CF=1</b></p>
<p><b>18.
&nbsp;<wbr>IMUL&nbsp;<wbr>&nbsp;<wbr>
CL</b><b>指令实现</b><b>__a____</b><b>功能</b><b>&nbsp;<wbr>&nbsp;<wbr><br>

A</b><b>有符号乘法：</b><b>AX←AL&times;CL</b><b>&nbsp;<wbr>&nbsp;<wbr>
B&nbsp;<wbr></b> <b>无符号乘法：</b><b>AX←AL&times;CL</b></p>
<p>
<b>C</b><b>有符号乘法：</b><b>DX←AL&times;CL&nbsp;<wbr>&nbsp;<wbr>
D</b><b>无符号乘法：</b><b>DX←AL&times;CL</b></p>
<p><b>19.&nbsp;<wbr>&nbsp;<wbr></b>
<b>执行除法指令后，影响的标志位是</b><b>___a___&nbsp;<wbr>&nbsp;<wbr><br>

A</b><b>所有状态标志都不确定</b> <b>B CF OF &nbsp;<wbr>C
SF</b><b>、</b><b>ZF D AF</b><b>、</b><b>PF</b></p>
<p>
<b>20.</b><b>下列</b><b>4</b><b>条指令中，有</b><b>___a___</b><b>条指令需要使用</b><b>DX</b><b>寄存器</b><b><br>

MUL&nbsp;<wbr>&nbsp;<wbr>
BX</b><b>、</b><b>IDIV&nbsp;<wbr>&nbsp;<wbr>
BL</b><b>、</b><b>IN&nbsp;<wbr>&nbsp;<wbr>
AX,20H</b><b>、</b><b>OUT&nbsp;<wbr>&nbsp;<wbr>
21H,AL<br>
A 1&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B&nbsp;<wbr>
2&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C&nbsp;<wbr>
3&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D&nbsp;<wbr> 4</b></p>
<p>
<b>21.</b><b>执行下面指令序列后，结果是</b><b>(&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>a&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
)</b><b>。</b><b><br>
MOV&nbsp;<wbr>&nbsp;<wbr>
AL</b><b>，</b><b>82H&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

CBW&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr><br>

A</b><b>、</b><b>AX=0FF82H&nbsp;<wbr></b>
<b>&nbsp;<wbr>B</b><b>、</b><b>AX=8082H&nbsp;<wbr>
C</b><b>、</b><b>AX=0082H&nbsp;<wbr>&nbsp;<wbr>
D</b><b>、</b><b>AX=0F82H</b></p>
<p><b>22.</b> <b>执行</b><b>AND&nbsp;<wbr>&nbsp;<wbr>
AL,80H</b><b>后，可以肯定的执行结果是</b><b>AL</b><b>寄存器的</b><b>__c_<br>
A</b><b>最高位为</b><b>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B</b>
<b>最高位为</b><b>1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C</b><b>低</b><b>7</b><b>位均为</b><b>0</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D</b> <b>低</b><b>7</b><b>位均为</b><b>1</b></p>
<p>
<b>23.</b><b>指令</b><b>_a__</b><b>实现对</b><b>AX</b><b>当中</b><b>D15</b><b>和</b><b>D0</b><b>位设置为</b><b>0</b><b>，其他位不变的功能。</b><b><br>

A AND&nbsp;<wbr>&nbsp;<wbr>
AX,7FFEH&nbsp;<wbr>&nbsp;<wbr> &nbsp;<wbr>B
OR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H&nbsp;<wbr>&nbsp;<wbr></b></p>
<p><b>C XOR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H&nbsp;<wbr> &nbsp;<wbr>&nbsp;<wbr>D
NOT&nbsp;<wbr>&nbsp;<wbr> AX</b></p>
<p>
<b>24.</b><b>指令</b><b>__b___</b><b>实现对</b><b>AX</b><b>当中</b><b>D15</b><b>和</b><b>D0</b><b>位设置为</b><b>1</b><b>，其他位不变的功能。</b><b><br>

A AND&nbsp;<wbr>&nbsp;<wbr>
AX,7FFEH&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> B
OR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H&nbsp;<wbr></b></p>
<p><b>C&nbsp;<wbr> XOR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H &nbsp;<wbr>&nbsp;<wbr>D
NOT&nbsp;<wbr>&nbsp;<wbr> AX</b></p>
<p><b>25.</b><b>执行</b><b>OR&nbsp;<wbr>&nbsp;<wbr>
AL,80H</b><b>后，可以肯定的执行结果是</b><b>AL</b><b>寄存器的</b><b>__b____<br>
A&nbsp;<wbr></b>
<b>最高位为</b><b>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
&nbsp;<wbr>B</b><b>最高位为</b><b>1</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C</b><b>低</b><b>7</b><b>位均为</b><b>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D</b><b>低</b><b>7</b><b>位均为</b><b>1</b></p>
<p>
<b>26.</b><b>指令</b><b>______c____</b><b>实现对</b><b>AX</b><b>当中</b><b>D15</b><b>和</b><b>D0</b><b>位求反，其他位不变的功能。</b><b><br>

A AND&nbsp;<wbr>&nbsp;<wbr>
AX,7FFEH&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B OR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H&nbsp;<wbr></b></p>
<p><b>C&nbsp;<wbr>&nbsp;<wbr>
XOR&nbsp;<wbr>&nbsp;<wbr>
AX,8001H</b><b>&nbsp;<wbr>&nbsp;<wbr> D
NOT&nbsp;<wbr>&nbsp;<wbr> AX</b></p>
<p>
<b>27</b><b>设</b><b>AX</b><b>＝</b><b>1000H&nbsp;<wbr>&nbsp;<wbr><br>

&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
NEG&nbsp;<wbr>&nbsp;<wbr>
AX&nbsp;<wbr>&nbsp;<wbr><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
NOT&nbsp;<wbr>&nbsp;<wbr>
AX&nbsp;<wbr>&nbsp;<wbr><br></b><b>执行上述指令后，</b><b>AX</b><b>＝</b><b>__b____&nbsp;<wbr>&nbsp;<wbr><br>

A 1001H&nbsp;<wbr> B
0FFFH&nbsp;<wbr>&nbsp;<wbr> C&nbsp;<wbr>
1000H&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> D
0111H<br>
28.</b> <b>下列指令中，执行后对标志未发生影响的是</b><b>__a____</b><b>。</b><b><br>
A&nbsp;<wbr> MOV&nbsp;<wbr>
AX,[BX]&nbsp;<wbr>&nbsp;<wbr> B ADD&nbsp;<wbr>
AX,0FFHH&nbsp;<wbr></b></p>
<p><b>C AND&nbsp;<wbr>&nbsp;<wbr> AX,[BX]
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>D TEST
AX,0FFHH</b></p>
<p><b>29.</b><b>执行</b><b>“SAR&nbsp;<wbr>&nbsp;<wbr>
BX,1”</b><b>指令后，</b><b>BX</b><b>最高</b><b>D15</b><b>位等于</b><b>___d_______</b><b>。</b><b><br>

A
0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B 1&nbsp;<wbr>&nbsp;<wbr> C&nbsp;<wbr>
D<sub>0</sub>&nbsp;<wbr>&nbsp;<wbr>
D&nbsp;<wbr> D<sub>14</sub></b></p>
<p>
<b>30.</b><b>对寄存器</b><b>AX</b><b>的内容乘以</b><b>2</b><b>的指令是</b><b>__b____</b><b>。</b><b><br>

A SHR&nbsp;<wbr>&nbsp;<wbr> AX,1&nbsp;<wbr>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B
SHL&nbsp;<wbr>&nbsp;<wbr>
AX,1&nbsp;<wbr>&nbsp;<wbr></b></p>
<p><b>C ROR&nbsp;<wbr>&nbsp;<wbr>
AX,1&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr> D
&nbsp;<wbr>RCR&nbsp;<wbr>&nbsp;<wbr>
AX,1</b></p>
<p><b>31
8086/8088CPU</b><b>的条件转移指令</b><b>Jcc</b><b>采用</b><b>____a______</b><b>地址寻址方式。</b><b><br>
</b><b>A</b><b>相对</b><b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B</b><b>直接</b><b>&nbsp;<wbr>&nbsp;<wbr>
C&nbsp;<wbr></b> <b>寄存器间接</b><b>&nbsp;<wbr>
D</b><b>存储器间接</b></p>
<p>
<b>32.</b><b>编写分支程序，在进行条件判断前，可用指令构成条件</b><b>,</b><b>其中不能形成条件的指令有</b><b>(&nbsp;<wbr>d
)</b><b>。</b><b><br>
A</b><b>、</b><b>CMP&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B</b><b>、</b><b>SUB&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C</b><b>、</b><b>AND&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>D</b><b>、</b><b>MOV</b></p>
<p>
<b>33</b><b>当标志</b><b>CF</b><b>＝</b><b>1</b><b>时转移到目的地址的条件转移指令是</b><b>____a__<br>
</b><b>A JC&nbsp;<wbr>&nbsp;<wbr></b>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>B
JNC&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
C&nbsp;<wbr>
JZ&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
D JNZ</b></p>
<p><b>34</b><b>条件转移指令</b><b>JA</b><b>产生程序转移的条件是</b><b>__b____<br>
A&nbsp;<wbr>
CF</b><b>＝</b><b>0</b><b>和</b><b>ZF</b><b>＝</b><b>1&nbsp;<wbr></b>
<b>&nbsp;<wbr>&nbsp;<wbr>B
CF</b><b>＝</b><b>0</b><b>和</b><b>ZF</b><b>＝</b><b>0</b><b>&nbsp;<wbr>&nbsp;<wbr>
C&nbsp;<wbr>
CF</b><b>＝</b><b>1</b><b>和</b><b>ZF</b><b>＝</b><b>1&nbsp;<wbr>
D CF</b><b>＝</b><b>1</b><b>和</b><b>ZF</b><b>＝</b><b>0</b></p>
<p>
<b>35.</b><b>循环指令</b><b>LOOPNZ</b><b>继续循环的条件是</b><b>___c___&nbsp;<wbr>&nbsp;<wbr><br>

A
CX</b><b>＝</b><b>0</b><b>，且</b><b>ZF</b><b>＝</b><b>0&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
B
CX</b><b>＝</b><b>0</b><b>，或</b><b>ZF</b><b>＝</b><b>1&nbsp;<wbr>&nbsp;<wbr></b>
<b>C&nbsp;<wbr>
CX≠0</b><b>，且</b><b>ZF</b><b>＝</b><b>0</b></p>
<p><b>D CX≠0</b><b>，或</b><b>ZF</b><b>＝</b><b>1</b></p>
<p><b>三判断错对</b></p>
<p>
<b>1.</b><b>“</b><b>46</b><b>”用原码表示为：（</b><b>00101110</b><b>）<sub>原码</sub></b><b><br>
</b><b>“－</b><b>46</b><b>”用原码表示为：（</b><b>10101110</b><b>）<sub>原码</sub>对</b></p>
<p><b>2.086/8088</b><b>系统中，堆栈的操作可以是字节或字操作。</b><b>错</b></p>
<p><b>3</b>
<b>已知</b><b>AX=1234H</b><b>、</b><b>BX=4612H</b><b>，计算</b><b>1234</b><b>－</b><b>4612</b><b>的差的算法不能写成下面的形式：对</b>
<b><br>
SUB&nbsp;<wbr> AX,BX &nbsp;<wbr>DAS</b></p>
<p><b>4</b>
<b>已知</b><b>CL=23H</b><b>，指令</b><b>“CMP&nbsp;<wbr>
CL,CL”</b><b>执行后标志位的值是</b><b>:CF</b><b>＝</b><b>0,ZF</b><b>＝</b><b>1,SF</b><b>＝</b><b>0</b><b>对</b></p>
<p>
<b>5</b><b>判断下列</b><b>8086</b><b>指令的对错：</b><b>SHL&nbsp;<wbr>
AX,3</b><b>错</b></p>
<p><b>6.</b>
<b>对寄存器</b><b>AX</b><b>的内容乘以</b><b>4</b><b>的正确指令序列是</b><b>SHL
AX</b><b>，</b><b>1</b><b>；</b><b>SHL</b><b>，</b><b>AX</b><b>，</b><b>1
&nbsp;<wbr></b><b>对</b><b><br>
7.</b> <b>已知</b><b>CL=0</b><b>，指令</b><b>INC
CL</b><b>的执行的结果</b><b>CF</b><b>＝不变对</b></p>
<p><b>8.</b><b>设</b><b>DH=10H</b><b>，执行</b><b>NEG&nbsp;<wbr>
DH</b><b>指令后，正确的结果是</b> <b>DH=0F0H&nbsp;<wbr>
CF=0</b><b>错</b></p>
<p><b>9</b><b>下列指令中，执行后对标志未发生影响的是</b><b>D</b><b>错</b><b><br>
A MOV AX,[BX]&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
BADD AX,0FFHH<br>
C AND&nbsp;<wbr>AX,[BX]
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>D TEST
AX,0FFHH</b></p>
<p>
<b>10</b><b>对寄存器</b><b>AX</b><b>的内容乘以</b><b>2</b><b>的指令是</b><b>SHL
AX,1</b><b>对</b></p>
<p><b>11. 8088</b><b>按逻辑段组织程序，数据变量应该且必须在数据段中。</b><b>错</b></p>
<p><b>12.</b> <b>说明性语句可以在任何一个段中</b><b>。对</b></p>
<p><b>13.</b> <b>使用简化段定义源程序格式，必须具有</b><b>.MODEL</b><b>语句，</b></p>
<p><b>且位于所有简化段定义语句之前。对</b><b><br>
14.</b>
<b>使用简化段定义源程序格式</b><b>,</b><b>必须具有</b><b>.MODEL</b><b>语句</b><b>,</b><b>但写在何处没有关系</b><b>.</b><b>错</b></p>
<p><b>15.</b>
<b>正误判断题：源程序中只能用标号</b><b>START</b><b>表示程序的起始执行点。</b><b>错</b></p>
<p><b>16.</b> <b>完整段定义的程序入口点首先应该设置数据段寄存器的值。</b><b>对</b></p>
<p>
<b>17.</b><b>汇编源程序可以用</b><b>WORD</b><b>文字处理系统处理，并保存为</b><b>WORD</b><b>文档。错</b></p>
<p>
<b>18.</b><b>对于常数</b><b>41H</b><b>，在汇编语言中表达成字符</b><b>’A’</b><b>也是正确的，</b></p>
<p>
<b>因</b><b>’A’</b><b>的</b><b>ASCII</b><b>码就是</b><b>41H</b><b>。</b><b>对</b></p>
<p><b>19. EQU</b><b>和</b><b>=</b><b>两个伪指令的功能和用法一样。</b><b>错</b></p>
<p><b>20. MOV AX , DI + SI</b><b>有没有语法错误？</b><b>错</b></p>
<p><b>四</b><b>.</b><b>填空题</b></p>
<p>
<b>1.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>段的定义用的是伪指令（）</b><b>SEGMENT/ENDS</b><b>&nbsp;<wbr></b></p>
<p>
<b>2.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>程序结束的语句是（）解答：</b><b>MOV&nbsp;<wbr>AX,4C00H&nbsp;<wbr>&nbsp;<wbr>
INT&nbsp;<wbr>21H</b></p>
<p>
<b>3.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>用汇编语言编写的程序称为</b><b>______</b><b>，它必须用</b><b>______</b><b>程序将它转换成二进制的机器语言程序，这种机器语言程序被称为</b><b>______</b><b>，而转换的过程称为</b><b>______</b><b>。它还必须用</b><b>______</b><b>程序连接，才能生成可执行的程序</b>
<b>汇编源程序，汇编程序</b><b>,</b><b>目标代码，汇编。连接</b></p>
<p>
<b>4.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>汇编源程序不可以用</b><b>word</b><b>文字处理系统处理，并保存为</b><b>word,</b><b>师因为文档汇编源程序必须是纯文本文件</b></p>
<p>
<b>5.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>在表达存储容量时，</b><b>1KB=_____B</b><b>；</b><b>1MB=___________KB</b><b>。</b><b>1024&nbsp;<wbr>
1024</b></p>
<p>
<b>6.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>8086/8088CPU</b><b>的地址线有</b><b>20</b><b>条，它的存储容量为</b><b>_______</b><b>。</b><b>1MB</b></p>
<p>
<b>1KB=2<sup>10</sup>B=1024B</b><b>，</b><b>1MB=2<sup>20</sup>B=2<sup>10</sup>KB=1024KB</b><b>，</b><b>1GB=2<sup>30</sup>B=2<sup>10</sup>MB=2<sup>20</sup>KB=1024MB</b><b>，</b><b>1TB=2<sup>40</sup>B=2<sup>30</sup>KB=2<sup>20</sup>MB</b><b>。所以答案：</b><b>1024/2<sup>10</sup>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>1024/2<sup>10</sup>/1K</b></p>
<p>
<b>7.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>外设与系统之间必须通过</b><b>________</b><b>连接。系统通过</b><b>___________</b><b>与外设进行通信。</b></p>
<p>
<b>输入输出接口电路（</b><b>I/O</b><b>接口）</b><b>&nbsp;<wbr>&nbsp;<wbr>I/O</b><b>端口</b></p>
<p>
<b>8.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>机器指令是一组</b><b>&nbsp;<wbr>___</b><b>，由</b><b>__</b><b>和</b><b>__</b><b>构成。机器语言程序常被称作</b><b>___</b><b>。二进制代码，操作码</b>
<b>操作数</b> <b>目标程序</b></p>
<p>
<b>9.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>对于计算机内部的一个编码：</b><b>01001001</b><b>，他代表什么含义</b><b>01001001</b><b>作为</b><b>ASCII</b><b>码，表示字符</b><b>I</b></p>
<p><b>10.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>计算</b><b>1101+11</b><b>，</b><b>1101-11</b><b>，</b><b>1101*11</b><b>，</b><b>1101/11</b><b>的值。</b></p>
<p><b>1101+11=10000&nbsp;<wbr>&nbsp;<wbr>
1101-11=1010&nbsp;<wbr>
1101*11=100111&nbsp;<wbr>&nbsp;<wbr>
1101/11=100</b><b>（余数</b><b>1</b><b>）</b><b>e</b></p>
<p><b>11.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>8086CPU</b><b>的主存寻址范围是（），数据线有（）条</b></p>
<p>
<b>主存寻址空间为</b><b>1M</b><b>，数据线有</b><b>16</b><b>条</b><b>eee</b></p>
<p><b>12.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>8086CPU</b><b>的内部结构分为总线接口（</b><b>BIU</b><b>）和执行单元（</b><b>EU</b><b>）两大部分。</b><b>BIU</b><b>负责</b><b>CPU</b><b>对存储器和外设的访问；</b><b>EU</b><b>负责指令的译码、执行和数据的运算。</b></p>
<p><b>13.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>完成一条指令的功能可以分为两个主要阶段：</b><b>(</b><b>取指令</b><b>)</b><b>和</b><b>(</b><b>执行指令</b><b>)</b></p>
<p>
<b>14.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>Intel 8086
CPU</b><b>的段寄存器有</b><b>________________________</b><b>。</b></p>
<p>
<b>15.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>Intel 8086
CPU</b><b>的</b><b>SP</b><b>寄存器的主要作用是</b><b>_____________________________</b><b>。</b></p>
<p>
<b>16.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>(CS)=1000H</b><b>，</b><b>(DS)=2000H</b><b>，</b><b>(ES)=3000H</b><b>，</b><b>(SS)=4000H</b><b>，</b><b>(DI)=a100</b><b>，操作数</b>
<b>[DI+1000H]</b>
<b>的寻址方式是</b><b>_________</b><b>，物理地址是</b><b>______</b>
<b>。</b></p>
<p>
<b>17.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>标志寄存器中</b><b>OF</b><b>标志位的主要作用是</b><b>_____________________</b><b>。</b></p>
<p>
<b>18.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>TEST</b><b>指令的功能是</b><b>______________________________</b><b>。</b></p>
<p>
<b>19.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>指令</b><b>LEA__AX,
[SI+100H]</b><b>的具体操作是</b><b>_____________________</b><b>。</b></p>
<p>
<b>20.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>有符号二进制字节数可表示的数的范围是</b><b>_____________________</b> <b>。</b></p>
<p><b>五</b><b>.</b><b>回答问题</b></p>
<p>
<b>1.</b><b>说明下列指令中源操作数的寻址方式？如果</b><b>BX=2000H</b><b>，</b><b>DI=40H</b><b>，给出</b><b>DX</b><b>的值或有效地址</b><b>EA</b><b>的值。</b>
<b><br></b><b>（</b><b>1</b><b>）</b> <b>MOV DX,[1234H]</b>
<b>（</b><b>1</b><b>）直接寻址，</b><b>EA</b><b>＝</b><b>1234H</b><b><br></b><b>（</b><b>2</b><b>）</b>
<b>MOV DX,1234H</b>
<b>（</b><b>2</b><b>）立即数寻址，</b><b>DX</b><b>＝</b><b>1234H<br></b><b>（</b><b>3</b><b>）</b>
<b>MOV DX,BX</b>
<b>（</b><b>3</b><b>）寄存器寻址，</b><b>DX</b><b>＝</b><b>2000H</b>
<b><br></b><b>（</b><b>4</b><b>）</b> <b>MOV DX,[BX]
&nbsp;<wbr></b><b>（</b><b>4</b><b>）间接寻址，</b><b>EA</b><b>＝</b><b>2000H</b><b><br>
</b><b>（</b><b>5</b><b>）</b> <b>MOV DX,[BX+1234H]</b>
<b>（</b><b>5</b><b>）相对寻址，</b><b>EA</b><b>＝</b><b>3234H</b><b><br></b><b>（</b><b>6</b><b>）</b>
<b>MOV DX,[BX+DI]
&nbsp;<wbr></b><b>（</b><b>6</b><b>）基址变址寻址，</b><b>EA</b><b>＝</b><b>2040H</b><b><br>
</b><b>（</b><b>7</b><b>）</b> <b>MOV DX,[BX+DI+1234H]</b>
<b>（</b><b>7</b><b>）相对基址变址寻址，</b><b>EA</b><b>＝</b><b>3274H</b></p>
<p><b>2</b><b>已知</b><b>DS</b> <b>＝</b> <b>2000H</b><b>、</b><b>BX =
0100H</b><b>、</b><b>SI = 0002H</b><b>，存储单元</b><b>[20100H] ~
[20103H]</b><b>依次存放</b><b>12 34 56 78H</b><b>，</b><b>[21200H] ~
[21203H]</b><b>依次存放</b><b>2A 4C B7
65H</b><b>，说明下列每条指令执行完后</b><b>AX</b><b>寄存器的内容。</b> <b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>1</b><b>）</b> <b>MOV AX,1200H</b>
<b>（</b><b>1</b><b>）</b><b>AX</b><b>＝</b><b>1200H</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>2</b><b>）</b> <b>MOV AX,BX</b>
<b>（</b><b>2</b><b>）</b><b>AX</b><b>＝</b><b>0100H</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>3</b><b>）</b> <b>MOV AX,[1200H]</b>
<b>（</b><b>3</b><b>）</b><b>AX</b><b>＝</b><b>4C2AH</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>4</b><b>）</b> <b>MOV AX,[BX]</b>
<b>（</b><b>4</b><b>）</b><b>AX</b><b>＝</b><b>3412H</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>5</b><b>）</b> <b>MOV AX,[BX+1100H]</b>
<b>（</b><b>5</b><b>）</b><b>AX</b><b>＝</b><b>4C2AH</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>6</b><b>）</b> <b>MOV AX,[BX+SI]</b>
<b>（</b><b>6</b><b>）</b><b>AX</b><b>＝</b><b>7856H</b><b><br>
&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>（</b><b>7</b><b>）</b> <b>MOV AX,[BX][SI+1100H]</b>
<b>（</b><b>7</b><b>）</b><b>AX</b><b>＝</b><b>65B7H</b></p>
<p><b>3</b><b>、请分别用一条汇编语言指令完成如下功能：</b> <b><br>
</b><b>（</b><b>1</b><b>）把</b><b>BX</b><b>寄存器和</b><b>DX</b><b>寄存器的内容相加，结果存入</b><b>DX</b><b>寄存器。</b>
<b><br>
</b><b>（</b><b>2</b><b>）用寄存器</b><b>BX</b><b>和</b><b>SI</b><b>的基址变址寻址方式把存储器的一个字节与</b><b>AL</b><b>寄存器的内容相加，并把结果送到</b><b>AL</b><b>中。</b>
<b><br>
</b><b>（</b><b>3</b><b>）用</b><b>BX</b><b>和位移量</b><b>0B2H</b><b>的寄存器相对寻址方式把存储器中的一个字和</b><b>CX</b><b>寄存器的内容相加，并把结果送回存储器中。</b>
<b><br>
</b><b>（</b><b>4</b><b>）用位移量为</b><b>0520H</b><b>的直接寻址方式把存储器中的一个字与数</b><b>3412H</b><b>相加，并把结果送回该存储单元中。</b>
<b><br>
</b><b>（</b><b>5</b><b>）把数</b><b>0A0H</b><b>与</b><b>AL</b><b>寄存器的内容相加，并把结果送回</b><b>AL</b><b>中。</b></p>
<p><b>（</b><b>1</b><b>）</b><b>ADD
DX,BX<br></b><b>（</b><b>2</b><b>）</b><b>ADD
AL,[BX+SI]<br></b><b>（</b><b>3</b><b>）</b><b>ADD
[BX+0B2H],CX<br></b><b>（</b><b>4</b><b>）</b><b>ADD WORD PTR
[0520H],3412H<br></b><b>（</b><b>5</b><b>）</b><b>ADD
AL,0A0H</b></p>
<p><b>六编程序</b></p>
<p align="left">
<b>1.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>已知两个八位无符号数</b><b>x</b><b>和</b><b>y,</b><b>分别存放在</b><b>BUF</b><b>和</b><b>BUF+1</b><b>单元中，且</b><b>x&gt;y</b><b>。请编程序计算</b><b>x-y,</b><b>结果存回</b><b>BUF</b><b>单元。</b><b>(4.1)</b><b>此题为两个八位无符号数相减，我们可以直接使用减法指令</b><b>SUB</b><b>来实现。</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr></b> <b>源程序如下：</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr>
SSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
SEGMENT&nbsp;<wbr>&nbsp;<wbr> STACK ‘STACK’</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr>
STA&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
DW&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
100 DUP(?)</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr>
SSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
ENDS</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr>
DSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
SEGMENT&nbsp;<wbr>&nbsp;<wbr> ‘DATA’</b></p>
<p>
<b>BUF&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
DB&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
82,60</b></p>
<p>
<b>DSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
ENDS</b></p>
<p><b>CSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
SEGMENT&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
‘CODE’</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
ASSUME&nbsp;<wbr>&nbsp;<wbr>
CS:CSEG,DS:DSEG,SS:SSEG</b></p>
<p><b>START:&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AX,DSEG</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
DS,AX</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AL,BUF</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
SUB&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AL,BUF+1</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
BUF,AL</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MO&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AH,4CH</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
INT&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
21H</b></p>
<p>
<b>CSEG&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
ENDS</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
END&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
START</b></p>
<p align="left">
<b>2.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>已知</b><b>DAT</b><b>单元有一数</b><b>x</b><b>。现要求编程将</b><b>x</b><b>的低四位变为</b><b>1010,</b><b>最高位</b><b>D7</b><b>置为</b><b>1</b><b>，其它三位不变。</b></p>
<p><b>　　　</b><b>MOV&nbsp;<wbr>
AL,DAT&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
;</b> <b>取</b><b>x</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AND&nbsp;<wbr>
AL,70H</b><b>　　　；清低四位和</b><b>D</b><b><sub>7</sub></b><b>位</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
OR&nbsp;<wbr>&nbsp;<wbr> AL,8AH</b>
<b>　　；置低四位为</b><b>1010,D</b><b><sub>7</sub></b><b>位为１</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>
DAT,AL</b><b>　　　；送回</b><b>DAT</b><b>单元</b></p>
<p align="left">
<b>3.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>&nbsp;<wbr>DAT</b><b>单元的内容拆成高、低各四位，然后分别存于</b><b>DAT+1</b><b>及</b><b>DAT+2</b><b>的低四位。</b><b>(4.1)</b><b>、</b></p>
<p>
<b>此类拆字问题一般均采用移位指令。先将</b><b>DAT</b><b>单元内容取出，屏蔽高四位，送入</b><b>DAT+2</b><b>单元。再将</b><b>DAT</b><b>单元内容右移四位。即：将高四位移至低四位，高四位补</b><b>0</b><b>，送入</b><b>DAT+1</b><b>单元。</b></p>
<p><b>程序如下：</b></p>
<p><b>MOV&nbsp;<wbr> AL,DAT</b></p>
<p><b>MOV&nbsp;<wbr> DAT+2,AL</b></p>
<p><b>AND&nbsp;<wbr> DAT+2,0FH</b></p>
<p><b>MOV&nbsp;<wbr> CL,4</b></p>
<p><b>SHR&nbsp;<wbr>&nbsp;<wbr> AL,CL</b></p>
<p><b>MOV&nbsp;<wbr> DAT+1,AL</b></p>
<p><b>HLT</b></p>
<p align="left">
<b>4.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>在</b><b>DATA</b><b>单元有一个二进制数</b><b>x,</b><b>要求编程完成运算</b></p>
<table border="0" cellspacing="0" cellpadding="0" width="100">
<tbody>
<tr>
<td>
<p align="left"><b>&nbsp;<wbr></b></p>
</td>
<td rowspan="3">
<p align="left">&nbsp;<wbr></p>
</td>
<td>
<p align="left"><b>x+1</b></p>
</td>
<td>
<p align="left"><b>x&gt;0</b></p>
</td>
</tr>
<tr>
<td>
<p align="left"><b>y=</b></p>
</td>
<td>
<p align="left"><b>x</b></p>
</td>
<td>
<p align="left"><b>x=0</b></p>
</td>
</tr>
<tr>
<td>
<p align="left"><b>&nbsp;<wbr></b></p>
</td>
<td>
<p align="left"><b>x-1</b></p>
</td>
<td>
<p align="left"><b>x&lt;0</b></p>
</td>
</tr>
</tbody>
</table>
<p><b>、本题为分支加简单运算。判断条件在零的左右，分支有三条，</b></p>
<p><b>程序如下：</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> AL,DATA</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
OR&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AL,AL</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JZ&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
L1</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JNS&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
I1</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
DEC&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AL</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JMP&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
L1</b></p>
<p>
<b>I1:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
INC&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
AL</b></p>
<p>
<b>L1:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr>&nbsp;<wbr> Y,AL</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
HLT</b></p>
<p align="left">
<b>5.&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr></b>
<b>编一程序</b><b>,</b><b>要求将</b><b>BUF</b><b>单元开始的</b><b>100</b><b>个存储单元全部清零。只知以</b><b>0FFH</b><b>作为结束标志，又该如何处理？</b></p>
<p>
<b>本题所要做的工作是将</b><b>100</b><b>个连续单元逐一清零。采用循环的方法最为简单。设置一个循环计数器，每清完一个单元，计数器减</b><b>1</b><b>，然后判断计数器是否为</b><b>0</b><b>，不为</b><b>0</b><b>则再去清一个存储单元，否则清零工作完成。</b></p>
<p><b>&nbsp;<wbr>&nbsp;<wbr></b>
<b>一般情况下，已知循环次数的，循环判断放在循环体的后面。未知循环次数但已知结束条件的，循环判断置于循环体的前面。</b></p>
<p><b>编程如下：</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
LEA&nbsp;<wbr>&nbsp;<wbr> BX,BUF</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> CL,64H</b></p>
<h1><font style="FonT-siZe: 14px">LP:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> [BX],0</font></h1>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
INC&nbsp;<wbr>&nbsp;<wbr> BX</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
DEC&nbsp;<wbr> CL</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JNZ&nbsp;<wbr>&nbsp;<wbr> LP</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
HLT</b></p>
<p><b>注：以上采用字节操作，每次清一个存储单元。也可以采用字操作，每次清两个存储单元。</b></p>
<p><b>程序如下：</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
LEA&nbsp;<wbr>&nbsp;<wbr> BX,BUF</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> CX,0032H</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> AX,0</b></p>
<p>
<b>LP:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> [BX],AX</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
ADD&nbsp;<wbr> BX,2</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
LOOP&nbsp;<wbr> LP</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
HLT</b></p>
<p><b>注：当不知道所清单元个数但已知结束条件时，可编程序如下：</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
LEA&nbsp;<wbr>&nbsp;<wbr> BX,BUF</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> AL,0FFH</b></p>
<p>
<b>LP:&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
CMP&nbsp;<wbr> AL,[BX]</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JE&nbsp;<wbr>&nbsp;<wbr> DONE</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
MOV&nbsp;<wbr> [BX],0</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
INC&nbsp;<wbr>&nbsp;<wbr> BX</b></p>
<p>
<b>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>&nbsp;<wbr>
JMP&nbsp;<wbr>&nbsp;<wbr> LP</b></p></div></div>							
		</div>

      
    </div>
</article>
 
 <!-- 上一页 下一页 -->


<!-- 相关文章 -->




  

  
    <nav id="page-nav">
      <a class="extend prev" rel="prev" href="/page/7/">&laquo; Prev</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/6/">6</a><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><a class="page-number" href="/page/10/">10</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><a class="extend next" rel="next" href="/page/9/">Next &raquo;</a>
    </nav>
  


</section>
      </div>
      <footer id="footer">
  <div class="outer footer_center">
    <div id="footer-info" class="inner">
      &copy; 2017 <a href="https://github.com/hanks-zyh"> Hanks</a>
	  </div>
  </div>
 <div id="share">
  <a id="totop" title="" style="display: block;">返回顶部</a>
 </div>
</footer>

    </div>
    

<script src="/js/jquery.min.js"></script>
<script src="/js/jquery.scrollLoading.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>
